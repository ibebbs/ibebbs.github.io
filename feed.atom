<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
	<link rel="self" href="http://ian.bebbs.co.uk/" />
	<id>http://ian.bebbs.co.uk/</id>
	<title>Ian Bebbington</title>
	<rights>2017</rights>
	<updated>2017-01-17T11:42:36Z</updated>
	<logo>http://ian.bebbs.co.uk/y3mVYjKPwLNM4SpxZ-xLtIcMigGcxEzKTdUxFym5tI2hMna1NOz6e5axIvMYoGFlV1ftnmELd2YUX4QowbgtJ_iJkEHUEXpngrQ47dG5_hm88hO2ZJM1mRZLWwhDoB0KfKuu6WFFqmWoKb_2f18gkAqJQ20PkRodrAj4PzkSSgO9A4%253Fwidth=660&amp;height=371&amp;cropmode=none</logo>
	<subtitle>IObservable&lt;Opinion&gt;</subtitle>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/RxWebWithTypescript" />
		<id>http://ian.bebbs.co.uk/posts/RxWebWithTypescript</id>
		<title>WebRx and Typescript</title>
		<updated>2016-03-08T00:00:00Z</updated>
		<content>
                                        


&lt;h1&gt;Continuing with WebRx&lt;/h1&gt;
&lt;p&gt;In &lt;a href="./posts/RxWeb"&gt;part 1&lt;/a&gt; of this series I showed how to set up a project structure that allows you to start using WebRx from within Visual Studio. While fairly simple, the example provides a great illustration of you how WebRx allows you to separate your view and view model.&lt;/p&gt;
&lt;p&gt;In this article I further develop the structure to allow you to develop your application using Typescript.&lt;/p&gt;
&lt;h1&gt;From 'app.js' to 'app.ts'&lt;/h1&gt;
&lt;p&gt;Previously we copied a chunk of JavaScript from the WebRx &lt;a href="http://webrxjs.org/docs/getting-started.html"&gt;getting started guide&lt;/a&gt; into an &lt;code&gt;app.js&lt;/code&gt; script that was directly used from within the &lt;code&gt;index.html&lt;/code&gt; file. We now want to &lt;a href="https://en.wikipedia.org/wiki/Source-to-source_compiler"&gt;&lt;em&gt;transpile&lt;/em&gt;&lt;/a&gt; the &lt;code&gt;app.js&lt;/code&gt; script from a Typescript file so that we can further develop the application in a structured and type-safe manner.&lt;/p&gt;
&lt;p&gt;To do this simply follow the following steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Delete the existing &lt;code&gt;app.js&lt;/code&gt; file leaving the &lt;code&gt;js&lt;/code&gt; folder empty.&lt;/li&gt;
&lt;li&gt;Add and configure a &lt;code&gt;TypeScript JSON Configuration File&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Add a &lt;code&gt;TypeScript JSON Configuration File&lt;/code&gt; to the solution as shown below&lt;br&gt;
&lt;img src="/Content/RxWebWithTypescript/AddTypeScriptJsonConfigurationFile.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Add TypeScript Json Configuration File"&gt;&lt;/li&gt;
&lt;li&gt;Replace the &lt;code&gt;node_modules&lt;/code&gt; exclusion with &lt;code&gt;Scripts&lt;/code&gt;&lt;br&gt;
By default Visual Studio (or, more acurately, the TypeScript transpiler) with pick up all &lt;code&gt;ts&lt;/code&gt; files in the solution. As we don't want to attempt to re-transpile all the referenced typescript files we add &lt;code&gt;Scripts&lt;/code&gt; to the exclusion list. Further, as we added a reference to &lt;code&gt;WebRx&lt;/code&gt; via Nuget, our references are in the &lt;code&gt;Scripts&lt;/code&gt; folder, not &lt;code&gt;node_modules&lt;/code&gt;, so this exclusion can be removed.&lt;/li&gt;
&lt;li&gt;Add an &lt;code&gt;outDir&lt;/code&gt; setting to transpile to the &lt;code&gt;js&lt;/code&gt; folder&lt;br&gt;
This setting will force the TypeScript transpiler to output the transpiled JavaScript files to the &lt;code&gt;js&lt;/code&gt; folder where they can be used by the client browser.&lt;/li&gt;
&lt;li&gt;You should now have a &lt;code&gt;tsconfig.json&lt;/code&gt; file that looks like this:
&lt;pre class="prettyprint"&gt;&lt;code&gt;{
  "compilerOptions": {
    "noImplicitAny": false,
    "noEmitOnError": true,
    "removeComments": false,
    "sourceMap": true,
    "target": "es5",
    "outDir": "js"
  },
  "exclude": [
    "Scripts",
    "wwwroot"
  ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="3"&gt;
&lt;li&gt;Add a &lt;code&gt;ts&lt;/code&gt; folder to the solution.&lt;/li&gt;
&lt;li&gt;Add an &lt;code&gt;app.ts&lt;/code&gt; typescript file to the &lt;code&gt;ts&lt;/code&gt; folder.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Add references to Rx and WebRx to the &lt;code&gt;app.ts&lt;/code&gt; file.&lt;br&gt;
WebRx requires that you add an explicit reference to &lt;code&gt;rx.all.d.ts&lt;/code&gt; prior to the reference to &lt;code&gt;web.rx.d.ts&lt;/code&gt; in order for the Rx module to be brought into scope. The references should therefore be added like this:
&lt;pre class="prettyprint"&gt;&lt;code&gt;/// &amp;lt;reference path="../Scripts/rx.all.d.ts"/&amp;gt;
/// &amp;lt;reference path="../Scripts/typings/web.rx.d.ts" /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Implement view / view model code&lt;br&gt;
You can now re-implement the code from &lt;code&gt;app.js&lt;/code&gt; as TypeScript virtually verbatim but do note how you get Intellisense for all the methods and properties of &lt;code&gt;wx&lt;/code&gt; module.&lt;/li&gt;
&lt;li&gt;Fix compilation error with call to &lt;code&gt;wx.applyBindings&lt;/code&gt;&lt;br&gt;
The &lt;code&gt;wx.applyBindings&lt;/code&gt; method &lt;em&gt;requires&lt;/em&gt; a &lt;code&gt;model&lt;/code&gt; parameter which, in JavaScript, is defaulted but in TypeScript causes a compilation error. To resolve this, simply pass an empty object to the method.&lt;/li&gt;
&lt;li&gt;Your &lt;code&gt;app.ts&lt;/code&gt; file should now look like this:
&lt;pre class="prettyprint"&gt;&lt;code&gt;/// &amp;lt;reference path="../Scripts/rx.all.d.ts"/&amp;gt;
/// &amp;lt;reference path="../Scripts/typings/web.rx.d.ts" /&amp;gt;

wx.app.component('hello', {
    viewModel: function () {
        this.firstName = 'Bart';
        this.lastName = 'Simpson';
    },
    template: 'The name is &amp;lt;span data-bind="text: firstName + \' \' + lastName"&amp;gt;&amp;lt;/span&amp;gt;'
});

wx.router.state({
    name: "$",
    views: { 'main': "hello" }
});

wx.router.reload();

wx.applyBindings({});
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="5"&gt;
&lt;li&gt;Compile the project and include the generated &lt;code&gt;js/app.js&lt;/code&gt; and &lt;code&gt;js/app.js.map&lt;/code&gt; files into the project.&lt;/li&gt;
&lt;li&gt;Hit F5 and you should again see the message 'The name is Bart Simpson' displayed in your default browser.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Congratulations, you're now ready to develop your application using full Intellisense and in the comfort of the knowledge that the compiler (well, transpiler) will pick up any syntactic bugs you may inadvertently create.&lt;/p&gt;
&lt;p&gt;As always, the completed &lt;a href="https://github.com/ibebbs/BlogProjects/tree/master/WebRxWithTypeScript"&gt;source code for this post&lt;/a&gt; can be found in the &lt;a href="https://github.com/ibebbs/BlogProjects"&gt;BlogProjects repository&lt;/a&gt; on &lt;a href="https://github.com/ibebbs"&gt;Github&lt;/a&gt;&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;In &lt;a href="./posts/RxWeb"&gt;part 1&lt;/a&gt; of this series I showed how to set up a project structure that allows you to start using WebRx from within Visual Studio. While fairly simple, the example provides a great illustration of you how WebRx allows you to separate your view and view model.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/RxVsTpl" />
		<id>http://ian.bebbs.co.uk/posts/RxVsTpl</id>
		<title>On the perils of traversing parallel universes</title>
		<updated>2016-02-01T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Despite taking some poetic license with the title of this post, the dramatics are not without merit. I have spent a significant portion of the last three days trying to write a series of tests around some asynchronous code to prove it managed - or, more specifically, limited - concurrency as intended. This code, while mainly Rx based, made calls to TPL methods and needed to wait, without blocking, for a result to be returned prior to allowing subsequent calls to be made. In short it mixed Rx and TPL to implement a multi-procuder / single consumer concurrency pattern, and this mix proved to be the source of much (much, much!) frustration.&lt;/p&gt;
&lt;p&gt;While I don't necessarily believe that &lt;a href="https://code.google.com/archive/p/fakeiteasy/issues/31"&gt;threading should be avoided in unit tests&lt;/a&gt; I do, as much as possible, endeavour to keep tests synchronous. Obviously this can be tricky when you're &lt;a href="http://stackoverflow.com/questions/20861305/should-i-unit-test-concurrency"&gt;specifically&lt;/a&gt; &lt;a href="http://stackoverflow.com/questions/12159/how-should-i-unit-test-threaded-code"&gt;testing&lt;/a&gt;  &lt;a href="http://stackoverflow.com/questions/1226779/how-to-run-concurrency-unit-test"&gt;concurrency&lt;/a&gt; but, fortunately, this has become immeasurably easier since Rx introduced testing in &lt;a href="http://blogs.msdn.com/b/rxteam/archive/2012/06/14/testing-rx-queries-using-virtual-time-scheduling.aspx"&gt;virtual time&lt;/a&gt; via the &lt;a href="http://www.introtorx.com/content/v1.0.10621.0/16_TestingRx.html"&gt;TestScheduler&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So, with this magical mechanism for manipulating the motion of time in my mitts, I proceeded to write the test &lt;code&gt;ShouldOnlySendASingleCommandAtATime&lt;/code&gt;... which promptly failed. And I'm not talking the good, red-green kinda failure. Nooo, this was an old school &lt;em&gt;"I've written the code, better make sure it works... oh, that's weird!"&lt;/em&gt; kinda failure.&lt;/p&gt;
&lt;p&gt;Assertions on calls to faked objects were failing and, after a lot of digging I finally found out why: Despite diligently injecting and using a &lt;code&gt;TestScheduler&lt;/code&gt; through my Rx code and mocking calls to TPL code such that they returned &lt;code&gt;TaskCompletionSource&amp;lt;T&amp;gt;&lt;/code&gt; instances, I was still seeing my unit tests start a &lt;strong&gt;second worker thread&lt;/strong&gt;!&lt;/p&gt;
&lt;p&gt;Weird indeed.&lt;/p&gt;
&lt;p&gt;After a lot of hacking around with my code and other &lt;a href="http://www.theallium.com/engineering/computer-programming-to-be-officially-renamed-googling-stackoverflow/"&gt;"computer programming"&lt;/a&gt; type activities, I finally happened upon this &lt;a href="http://stackoverflow.com/questions/28183473/executing-tpl-code-in-a-reactive-pipeline-and-controlling-execution-via-test-sch/28236216#28236216"&gt;curiously titled question&lt;/a&gt;. The question very closely reflected what I was trying to achieve and was fortunately followed by an incredibly detailed answer by &lt;a href="http://stackoverflow.com/users/87427/james-world"&gt;James World&lt;/a&gt;. Of particular note was this paragraph:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;One particular pain point of Rx that leaves many testers scratching their heads, is the fact that the TPL -&amp;gt; Rx family of conversions introduce concurrency. e.g. ToObservable, SelectMany's overload accepting Task&lt;t&gt; etc. don't provide overloads with a scheduler and insidiously force you off the TestScheduler thread, even if mocking with TCS&lt;/t&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Bingo! Exactly the issue I was experiencing. James also provided a link to the following &lt;a href="https://github.com/Reactive-Extensions/Rx.NET/issues/21"&gt;bug report for Rx&lt;/a&gt; validating his answer and vindicating my confusion. This epiphany lead me to rewrite the interfaces to my dependencies such that they were Rx rather than TPL based. After which, lo and behold, my unit tests started passing.&lt;/p&gt;
&lt;p&gt;Phew!&lt;/p&gt;
&lt;p&gt;In conclusion, I guess the physicists are right: &lt;a href="https://www.newscientist.com/article/dn11745-could-black-holes-be-portals-to-other-universes/"&gt;If you want to move between parallel universes, be prepared to fall into a black hole!&lt;/a&gt;&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Despite taking some poetic license with the title of this post, the dramatics are not without merit. I have spent a significant portion of the last three days trying to write a series of tests around some asynchronous code to prove it managed - or, more specifically, limited - concurrency as intended. This code, while mainly Rx based, made calls to TPL methods and needed to wait, without blocking, for a result to be returned prior to allowing subsequent calls to be made. In short it mixed Rx and TPL to implement a multi-procuder / single consumer concurrency pattern, and this mix proved to be the source of much (much, much!) frustration.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/DartInVisualStudioCode" />
		<id>http://ian.bebbs.co.uk/posts/DartInVisualStudioCode</id>
		<title>Dart web development with Visual Studio Code</title>
		<updated>2017-01-17T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Visual Studio Code is rapidly becoming my go-to editor for anything not project-oriented C#/F#. I've switched from &lt;a href="https://atom.io/"&gt;Atom&lt;/a&gt; to &lt;a href="(https://code.visualstudio.com/)"&gt;VSC&lt;/a&gt; for editing my (&lt;a href="http://ian.bebbs.co.uk/posts/NewBlogUsingWyam"&gt;statically-generated, Markdown driven&lt;/a&gt;) blog and have used it for authoring powershell scripts, dockerfiles and much, much more. So, when I decided I wanted to write some &lt;a href="https://www.dartlang.org/"&gt;Dart&lt;/a&gt; code, it was the obvious choice.&lt;/p&gt;
&lt;h2&gt;Why Dart?&lt;/h2&gt;
&lt;p&gt;Why did I decide on Dart? Well, I had project I wanted to undertake that featured some... shock horror... dynamic web content. If that isn't enough to send chills down your spine, you've either &lt;a href="https://hackernoon.com/how-it-feels-to-learn-javascript-in-2016-d3a717dd577f#.fqoett4pt"&gt;never had to look at getting started with modern web development&lt;/a&gt; or &lt;a href="https://medium.com/@pistacchio/i-m-a-web-developer-and-i-ve-been-stuck-with-the-simplest-app-for-the-last-10-days-fb5c50917df#.glf30ovv1"&gt;you've already drunk the cool-aid&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Either way, most rational people in the industry will (in the moments of clarity between writing off the last framework as dated and evangelising the next) reluctantly admit that &lt;a href="https://medium.com/@wob/the-sad-state-of-web-development-1603a861d29f#.lqu2r4xup"&gt;modern web development is a mess&lt;/a&gt;. But this is the world we live in and the best one can do is dodge the analysis paralysis and mitigate the majority of the risks. For me, this was adopting a &lt;a href="https://www.dartlang.org/guides/language/language-tour"&gt;strongly-typed modern development language&lt;/a&gt; that has a &lt;a href="https://webdev.dartlang.org/"&gt;strong web pedegry&lt;/a&gt; and just get on with it.&lt;/p&gt;
&lt;h2&gt;But in Visual Studio Code?&lt;/h2&gt;
&lt;p&gt;Why not? It's a great editor and already has great support for Dart courtesy of Danny Tuppeny's &lt;a href="https://marketplace.visualstudio.com/items?itemName=DanTup.DartVS-VisualStudiosupportforGooglesDart"&gt;excellent Dart extension&lt;/a&gt;. Furthermore, I try to keep my development machine as lean and clean as possible so I didn't want to have to &lt;a href="https://www.jetbrains.com/webstorm/"&gt;install an IDE specifically for Dart development&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Fortunately, as you'll see, getting set up for Dart development with Visual Studio Code is very easy, doesn't require any installation (everything is "xcopy" deployed) and you can start being productive almost right away.&lt;/p&gt;
&lt;h2&gt;Ingredients&lt;/h2&gt;
&lt;p&gt;You will need the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://code.visualstudio.com/Download"&gt;Visual Studio Code&lt;/a&gt; - obviously&lt;/li&gt;
&lt;li&gt;&lt;a href="https://marketplace.visualstudio.com/items?itemName=DanTup.dart-code"&gt;DartVS&lt;/a&gt; - the Dart language extension for Visual Studio Code&lt;/li&gt;
&lt;li&gt;&lt;a href="https://storage.googleapis.com/dart-archive/channels/stable/release/1.21.0/sdk/dartsdk-windows-x64-release.zip"&gt;The Dart SDK&lt;/a&gt; - the code Dart binaries and tools needed for dart development&lt;/li&gt;
&lt;li&gt;&lt;a href="https://storage.googleapis.com/dart-archive/channels/stable/release/latest/dartium/dartium-windows-ia32-release.zip"&gt;Dartium&lt;/a&gt; - a version of Chrome (even called "Chrome.exe") with a built in Dart runtime&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Steps&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Download and extract the Dart SDK to a location on your HD (I use &lt;code&gt;C:\Apps&lt;/code&gt; for "manually" installed tools/applications so will be using the path &lt;code&gt;C:\Apps\dart-sdk&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Download and extract Dartium to a location on your HD (&lt;code&gt;C:\Apps\chromium&lt;/code&gt; for me).&lt;/li&gt;
&lt;li&gt;Create a new directory wherever you keep your source files and name it &lt;code&gt;GettingStartedWithDart&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;In this directory, create two further directories named &lt;code&gt;lib&lt;/code&gt; and &lt;code&gt;web&lt;/code&gt; (this structure follows the &lt;a href="https://www.dartlang.org/tools/pub/package-layout"&gt;Pub Package Layout Conventions&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Start Visual Studio Code and open the &lt;code&gt;GettingStartedWithDart&lt;/code&gt; folder. You should see something like this:&lt;/li&gt;
&lt;/ol&gt;
&lt;img src="https://plt6eg-dm2306.files.1drv.com/y3m_WQkZhj4Xo-vjZzyUVujyGYAM3lM7Gs84uuf59zCfPKJQzrT9d--PF8Ns9Gwm3qluxzW26f_H9OU5PZQEq37lEKy9aKY553bzGzZLNU_CBIRGUWA_9_QbE-a0WgQz284pvZY2-Voc83pjQc2h9iMUIzap8At--sCEdhJXyO6sXw?width=660&amp;amp;height=497&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800; margin-top: 6px; margin-bottom: 6px;" alt="Empty Project"&gt;
&lt;ol start="6"&gt;
&lt;li&gt;If you haven't already, install the DartVS extension by hitting &lt;code&gt;Ctrl-Shift-X&lt;/code&gt; (the keyboard shortcut for "View-&amp;gt;Extensions") and type Dart in the search box. This should show the "Dart Code" extension by "Danny Tuppeny". Click install and reload the window when complete.&lt;/li&gt;
&lt;li&gt;As we haven't elected to add the Dart SDK to the path, we need to tell the Dart extension where it can find the SDK. This is done by editing the User Settings (&lt;code&gt;File-&amp;gt;Preferences-&amp;gt;User Settings&lt;/code&gt;) and adding the following settings:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;    "dart.sdkPath": "C:\\Apps\\dart-sdk",
    "dart.debugSdkLibraries": false,
    "dart.debugExternalLibraries": false
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="8"&gt;
&lt;li&gt;Back in the Explorer view (&lt;code&gt;Ctrl-Shift-E&lt;/code&gt;) add a new file to the &lt;code&gt;web&lt;/code&gt; directory named &lt;code&gt;main.dart&lt;/code&gt;. We'll populate this file shortly but, for now, it's just so that VSC (and DartVS) realises that this is a Dart project.&lt;/li&gt;
&lt;li&gt;Add another new file named &lt;code&gt;pubspec.yaml&lt;/code&gt; to the root directory. This file tells the Dart compiler (named &lt;code&gt;Pub&lt;/code&gt;) how to build your Dart project and follows a very &lt;a href="https://www.dartlang.org/tools/pub/pubspec"&gt;simply format&lt;/a&gt;. In this file add &lt;code&gt;name&lt;/code&gt;, &lt;code&gt;dependencies&lt;/code&gt; and &lt;code&gt;transformers&lt;/code&gt; as shown below:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;name: GettingStartedWithDart
dependencies:
transformers:
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="10"&gt;
&lt;li&gt;When you save this file, you should see the &lt;code&gt;Output&lt;/code&gt; panel appear showing the output of the &lt;code&gt;Pub&lt;/code&gt; command. This is a feature of the DartVS extension which runs a &lt;code&gt;pub get&lt;/code&gt; command whenever you save the &lt;code&gt;pubspec.yaml&lt;/code&gt; file. As you can probably guess from the output (shown below) the purpose of this command is to retrieve/update any dependencies you've declared in the &lt;code&gt;dependencies&lt;/code&gt; section. Also, once the &lt;code&gt;pub get&lt;/code&gt; command has run, you should see a new &lt;code&gt;pubspec.lock&lt;/code&gt; file appear in the root directory.&lt;/li&gt;
&lt;/ol&gt;
&lt;img src="https://plt5eg-dm2306.files.1drv.com/y3mCavvhl_SorCHUuY_oZ01TMQ9jkjpMy_I48Eotp3TlC5s-TRU0JaznDIYoihtHpfFj6A3Aqwu9eEKDhOQaK7jnEO7g6UscYBqeBp5yLg_PnzxGgWQpVTwgrxkJeOw8EUet6KhgGEn2Lkm3IYfP4-K-SEXXvKT4G64DcweiAsnQ-k?width=660&amp;amp;height=497&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800; margin-top: 6px; margin-bottom: 6px;" alt="Get Dependencies"&gt;
&lt;ol start="11"&gt;
&lt;li&gt;As we're focusing on using Dart for web development, we'll also add an HTML document we'll manipulate using Dart. To do this, simply add new file named &lt;code&gt;index.html&lt;/code&gt; to the &lt;code&gt;web&lt;/code&gt; directory and populate it with the following:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Getting Started With Dart&amp;lt;/title&amp;gt;
    &amp;lt;script type="application/dart" src="main.dart"&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;h1 id="header"&amp;gt;Hmm... what should I say?&amp;lt;/h1&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="12"&gt;
&lt;li&gt;At this point you should have the following layout in your project and we're ready start start writing some Dart.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;    [Source Directory]
    |-&amp;gt; [Project Name] (i.e. "GettingStartedWithDart")
    | | -&amp;gt; lib
    | | -&amp;gt; web
    | | | -&amp;gt; index.html
    | | | -&amp;gt; main.dart
    | | -&amp;gt; pubspec.lock
    | | -&amp;gt; pubspec.yaml
&lt;/pre&gt;
&lt;ol start="13"&gt;
&lt;li&gt;In the &lt;code&gt;main.dart&lt;/code&gt; file, add the following code. (Note, if you type this code rather than copy-pasting it, you'll notice the excellent intellisense features provided by VSC and implemented beautifully by Dart VS.)&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;import 'dart:html';

void main() {
  querySelector('#header').text = 'Ah yes... Hello World!!!';
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="14"&gt;
&lt;li&gt;Right, now we have an HTML file and some Dart code and we're ready to run. While you could run this code manually from the command line, if you're intending on doing more than just this getting started guide, I'd very much recommend setting up some task runners in VSC. This is done by opening the command palette (&lt;code&gt;Ctrl-Shift-P&lt;/code&gt;) and typing &lt;code&gt;Configure Task Runner&lt;/code&gt;, which should show you the command &lt;code&gt;Tasks: Configure Task Runner&lt;/code&gt;. Select this and you will see a list of build systems VSC can automatically create a task runner for (shown below). As Dart isn't one of the predefined templates, select "Others" to create an empty Tasks file.&lt;/li&gt;
&lt;/ol&gt;
&lt;img src="https://plt4eg-dm2306.files.1drv.com/y3mjQOmP0yb0-3KfLb34MamSLnq13qKN0jSNcEHLMIOn7u2kbunZuaN74mec-0mquSOr05it5RZC6Uov1rnpiweb1sL6a96iKFJYLWC_6hSlldbQjHriAKAa71-k_8Dop-6iLRxL38BNzOMqii4VNZVfIlFgV_Ow2hG1GtMwXjB7A4?width=660&amp;amp;height=497&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800; margin-top: 6px; margin-bottom: 6px;" alt="Configure Task Runner"&gt;
&lt;ol start="15"&gt;
&lt;li&gt;This command should create a new file called &lt;code&gt;tasks.json&lt;/code&gt; in a new &lt;code&gt;.vscode&lt;/code&gt; directory and will contain the following json.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "0.1.0",
    "command": "echo",
    "isShellCommand": true,
    "args": ["Hello World"],
    "showOutput": "always"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="16"&gt;
&lt;li&gt;If you're not familiar with configuring VSC task runners, I'd very much recommend clicking the link in this file to see what the task runner is able to do and how to configure it. However, for your convenience, I have provided my configuration below:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "0.1.0",
    "command": "C:\\Apps\\dart-sdk\\bin\\pub.bat",
    "isShellCommand": true,
    "args": [],
    "showOutput": "always",
    "echoCommand": true,
    "tasks": [
        {
            "taskName": "build",
            "args": [],
            "isWatching": false
         },
        {
            "taskName": "serve",
            "args": [],
            "isWatching": true
         }
    ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="17"&gt;
&lt;li&gt;&lt;p&gt;As you will probably be able to determine, this file contains two tasks; one named &lt;code&gt;build&lt;/code&gt; and the other named &lt;code&gt;serve&lt;/code&gt;. The &lt;code&gt;build&lt;/code&gt; command compiles your code and checks for errors while the &lt;code&gt;serve&lt;/code&gt; command sets up a local web-server (by default bound to port 8080) capable of serving the content of the &lt;code&gt;web&lt;/code&gt; directory. Lets try both.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Open the command palette (&lt;code&gt;Ctrl-Shift-P&lt;/code&gt;), delete the '&amp;gt;' prompt and then type &lt;code&gt;task&lt;/code&gt; followed by a space. You should see the two tasks defined above appear. Continue to &lt;code&gt;build&lt;/code&gt; and then hit return. At this point, the output pane should appear displaying the &lt;code&gt;Tasks&lt;/code&gt; output and your code should be compiled (and, transpiled into JS!). This is shown below:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;img src="https://plt3eg-dm2306.files.1drv.com/y3ma_gmHNRQHH3HaNTz8ytRLamtMwlzmi0dRSYl1aqncp0Zy-RaUW_qLGOebg_PpgRdCoYLQYFcuRWZ3FC_Y6jJ0Qw6n5rWbGxvUMzi5_yqitbOf3DrJUVAkQi9Th0JvQmzLysrJGrnhrVe7Z2eYY6uUse_0o88veVTn8eYaIZsHnw?width=660&amp;amp;height=497&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800; margin-top: 6px; margin-bottom: 6px;" alt="Tasks and Build output"&gt;
&lt;ol start="19"&gt;
&lt;li&gt;&lt;p&gt;If everything is successful, you should see the message '&lt;code&gt;Built 2 files to "build"&lt;/code&gt;'. Now we can test our Dart code by serving it through &lt;code&gt;pub server&lt;/code&gt;. To do this, start the &lt;code&gt;task serve&lt;/code&gt; task in a similar manner to the &lt;code&gt;task build&lt;/code&gt; above. As this task is an &lt;code&gt;isWatching&lt;/code&gt; command, the task won't complete when run but will emit messages to the output pane when changes occur. This is shown below:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;With a local web-server serving out HTML file and Dart code, we can finally start to use Dartium to run the code. Note that, we're using Dartium because we'll be executing the Dart code directly (rather than the transpiled JavaScript) and Dartium has a built-in Dart runtime which allows for advanced debugging of our Dart code. Start Dartium but executing it from either command line or GUI (exists at &lt;code&gt;C:\Apps\chromium\chrome.exe&lt;/code&gt; for me) and, once started, navigate to &lt;code&gt;http://localhost:8080&lt;/code&gt; and you should see the following:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;img src="https://nbtqeg-dm2306.files.1drv.com/y3m2wj9PACazah5vdBUyW8AOGu__v3AbjHyzU66QtsvCuHVA4Ya710e4bjVJv4GdNiXlige7q8waQcphwiH8FtLZG8eu-z7cOiBPi-vqx8KfgkYPvwVrtPIpJoCmdIDR8LmO8DIqkHSvNe6Kz5q65IoWi1DRivqqpX5YUET_9zEmS4?width=660&amp;amp;height=542&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800; margin-top: 6px; margin-bottom: 6px;" alt="Success!!"&gt;
&lt;p&gt;Congratulations, you've just run your first Dart code.&lt;/p&gt;
&lt;p&gt;If something went wrong and you don't see the header text change from 'Hmm... what should I say?' to 'Ah yes... Hello World!!!' then you can use Dartium's Developer Tools (&lt;code&gt;Ctrl-Shift-I&lt;/code&gt;) to view errors and add breakpoints so you can work out what has gone wrong. The developer tools are shown here:&lt;/p&gt;
&lt;img src="https://nbtpeg-dm2306.files.1drv.com/y3my4JbT3bsQcqBOB3NANuaB-FMf_vBHNlAc1qm5QaXuFVEWxIV1YuoIj7gu-QJZtFOgS_gHJBknLl8J_LY9shZ_YtYf8Jf0BL9T0r4NMf3dv5XXvZt0x_J0IqZ7lurmX5MJP7oyA9FMO8oMkm29BAxoQI2jV-s6dyO2APv8dvXRTM?width=660&amp;amp;height=542&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800; margin-top: 6px; margin-bottom: 6px;" alt="Dartium Developer Tools"&gt;
&lt;p&gt;You can find loads more information online about the &lt;a href="https://www.dartlang.org/"&gt;Dart Language&lt;/a&gt; and &lt;a href="https://webdev.dartlang.org/"&gt;Dart Web Development&lt;/a&gt;. Versions of Dart are changing rapidly (there was a minor update while writing this post!) and a thriving &lt;a href="https://www.dartlang.org/community"&gt;support community&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As a (mainly) C# developer I found Dart super easy to get up to speed with and the Visual Studio Code/Dartium combo to be extremely productive. Hopefully you will too.&lt;/p&gt;
&lt;p&gt;Have fun.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Visual Studio Code is rapidly becoming my go-to editor for anything not project-oriented C#/F#. I've switched from &lt;a href="https://atom.io/"&gt;Atom&lt;/a&gt; to &lt;a href="(https://code.visualstudio.com/)"&gt;VSC&lt;/a&gt; for editing my (&lt;a href="http://ian.bebbs.co.uk/posts/NewBlogUsingWyam"&gt;statically-generated, Markdown driven&lt;/a&gt;) blog and have used it for authoring powershell scripts, dockerfiles and much, much more. So, when I decided I wanted to write some &lt;a href="https://www.dartlang.org/"&gt;Dart&lt;/a&gt; code, it was the obvious choice.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/UsingHyperlinkInMVVM" />
		<id>http://ian.bebbs.co.uk/posts/UsingHyperlinkInMVVM</id>
		<title>Using a Hyperlink in MVVM</title>
		<updated>2016-08-17T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;The XAML (i.e. WPF, WinRT, UWP family) &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.documents.hyperlink.aspx"&gt;Hyperlink&lt;/a&gt; is a terrific little control (ok, it's not actually a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.control.aspx"&gt;Control&lt;/a&gt; - it's a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.contentelement.aspx"&gt;ContentElement&lt;/a&gt; - but it does allow interaction hence using the term control here). It follows the current environment's theme such that the user naturally knows it's a link that can be clicked and it can be embedded inside &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.textblock.aspx"&gt;TextBlock&lt;/a&gt; elements so that it naturally flows with the other content.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;script src="https://gist.github.com/ibebbs/f3b4efb09f9b0ea36397a9ab462823df.js"&gt;&lt;/script&gt;
&lt;p&gt;However, out of the box, this control's functionality is somewhat limited. As standard, it is simply able to perform navigation on any &lt;a href="https://msdn.microsoft.com/library/windows/apps/br242682"&gt;Frame&lt;/a&gt; element the control is hosted within. Any other type of behavior requires the developer to subscribe to the control's &lt;code&gt;OnHyperlinkClicked&lt;/code&gt; event and perform the required operations from code-behind.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Unfortunately, neither of these approaches work for 'ViewModel First' &lt;a href="https://msdn.microsoft.com/en-gb/library/hh848246.aspx"&gt;MVVM&lt;/a&gt;, which, after many years employing MVVM is by far my favoured approach.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In a project I've been working on which employs this pattern, a state-machine is used to track application state and each transition between states causing a navigation to be performed in the UI. In one view within the application, there was a desire to instigate a state-machine transition by clicking on a &lt;code&gt;Hyperlink&lt;/code&gt; embedded within some text. Ideally, when clicked, the &lt;code&gt;Hyperlink&lt;/code&gt; would execute an &lt;code&gt;ICommand&lt;/code&gt; instance data-bound to the view from the view-model. Obviously this wasn't possible as standard so I started thinking through alternatives.&lt;/p&gt;
&lt;p&gt;My first inclination was to restyle a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.button.aspx"&gt;Button&lt;/a&gt; to look like a Hyperlink. This would, ostensibly, be fairly straight forward and naturally provided a Command &lt;code&gt;DependencyProperty&lt;/code&gt; to bind to. However, keeping the hyperlink styled as per the current system theme would be arduous to say the least.&lt;/p&gt;
&lt;p&gt;Putting this aside, I came across &lt;a href="http://stackoverflow.com/a/11433814"&gt;this post&lt;/a&gt; which employed an attached property to start a process (normally a browser to display external content) on the host PC. Realising this approach could be extended to accomplish my goals I refactored it to the following:&lt;/p&gt;
&lt;script src="https://gist.github.com/ibebbs/654f519eec134135f7f9469150b07438.js"&gt;&lt;/script&gt;
&lt;p&gt;Which can be used as follows:&lt;/p&gt;
&lt;script src="https://gist.github.com/ibebbs/0ae7c2e0ed3c531858f5ee01c16157b8.js"&gt;&lt;/script&gt;
&lt;p&gt;Et voilá, a &lt;code&gt;Hyperlink&lt;/code&gt; control which is able to execute a data-bound &lt;code&gt;ICommand&lt;/code&gt; instance. Obviously it could be extended further to disable the hyperlink when the command reports execution is disabled (via &lt;code&gt;CanExecuteChanged&lt;/code&gt;) and provide a CommandParamter binding for passing additional information through to the command execution, but in a lot of instances - and certainly for me in this scenario - &lt;a href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it"&gt;YAGNI&lt;/a&gt;.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;The XAML (i.e. WPF, WinRT, UWP family) &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.documents.hyperlink.aspx"&gt;Hyperlink&lt;/a&gt; is a terrific little control (ok, it's not actually a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.control.aspx"&gt;Control&lt;/a&gt; - it's a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.contentelement.aspx"&gt;ContentElement&lt;/a&gt; - but it does allow interaction hence using the term control here). It follows the current environment's theme such that the user naturally knows it's a link that can be clicked and it can be embedded inside &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.textblock.aspx"&gt;TextBlock&lt;/a&gt; elements so that it naturally flows with the other content.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/DockerAndKafka" />
		<id>http://ian.bebbs.co.uk/posts/DockerAndKafka</id>
		<title>Getting started with Docker and Apache Kafka</title>
		<updated>2017-01-04T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;For my first blog post of the new year (Happy New Year everyone!!!), I'd like to share some of my recent adventures with Docker on Windows, or, more specifically, Docker on Windows using Nanoserver as the container OS.&lt;/p&gt;
&lt;p&gt;I've been meaning to get up to speed with Docker for a while and, having &lt;a href="http://ian.bebbs.co.uk/posts/ARipStoringTime"&gt;recently acquired a decent new server for the purpose&lt;/a&gt;, decided that a festive period break from some of my &lt;a href="http://ian.bebbs.co.uk/posts/CqrsEsMvvmRxEfSqlUwpPcl"&gt;longer term projects&lt;/a&gt;, would be an ideal time to finally dive in. In typical Bebbs style, "diving in" invariably involves the "deep end" and, as such, it seemed that a great initiation into the containerization waters would be to take &lt;a href="https://kafka.apache.org/"&gt;Apache Kafka&lt;/a&gt; - a service typically run on Linux - and deploy it within a Windows &lt;a href="https://blogs.technet.microsoft.com/windowsserver/2015/04/08/microsoft-announces-nano-server-for-modern-apps-and-cloud/"&gt;Nanoserver&lt;/a&gt; container - a recent release from Microsoft and still a very-much bleeding-edge OS.&lt;/p&gt;
&lt;p&gt;I've been interested in Apache Kafka for quite a while. Described as a "distributed streaming platform" it very much resonates with my "everything is a stream" philosophy. Furthermore, some of &lt;a href="https://www.confluent.io/product/connectors/"&gt;it's connectors&lt;/a&gt; to various traditional RDBMS's offer an intriguing means of moving between 'state store' and 'event store' methodologies.&lt;/p&gt;
&lt;h2&gt;Getting started&lt;/h2&gt;
&lt;p&gt;For the host system, I started with a fresh install of Windows Server 2016 (Desktop Experience for convenience) on a &lt;a href="http://www.dell.com/uk/business/p/poweredge-t20/pd"&gt;Dell T20 Xeon&lt;/a&gt;. Following &lt;a href="https://msdn.microsoft.com/en-gb/virtualization/windowscontainers/quick_start/quick_start_windows_server"&gt;this quick start guide&lt;/a&gt; quickly led to an issue whereby the Docker package couldn't be verified by it's SHA256 hash and therefore refused to install. Fortunately I found a report of the issue and a work around &lt;a href="https://github.com/OneGet/MicrosoftDockerProvider/issues/15"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I have since reinstalled docker on Windows Server 2016 and did not experience the issue again so it must have been resolved.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With Docker installed and the &lt;a href="https://hub.docker.com/r/microsoft/dotnet-samples/"&gt;dotnet-samples&lt;/a&gt; example container running, my attention turned to Nanoserver.&lt;/p&gt;
&lt;p&gt;A quick pull and run of the &lt;a href="https://hub.docker.com/r/microsoft/nanoserver/"&gt;Nanoserver image&lt;/a&gt; and I found myself at an interactive command prompt of a deployed container running Nanoserver. This can be done as follows:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;docker pull microsoft/nanoserver:latest
docker run -it --rm microsoft/nanoserver:latest cmd
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Kafka &amp;amp; Zookeeper&lt;/h2&gt;
&lt;p&gt;While looking for a pre-built image of Kafka running on Nanoserver, it quickly became apparent that in order to get an instance of &lt;a href="https://kafka.apache.org/"&gt;Apache Kafka&lt;/a&gt; running, you first need a running instance of &lt;a href="https://zookeeper.apache.org/"&gt;Apache Zookeeper&lt;/a&gt;. While you could technically run both services from within a single container (indeed, Kafka is pre-configured to look for a Zookeeper instance on localhost) I wanted to utilize the core value propositions of containers vs VM instances; namely minimal overhead and composability.&lt;/p&gt;
&lt;p&gt;This meant that I would therefore be building two container images, one for Zookeeper and one for Kafka, both of which would be running on Nanoserver.&lt;/p&gt;
&lt;h2&gt;Building the Zookeeper image&lt;/h2&gt;
&lt;h3&gt;Take 1&lt;/h3&gt;
&lt;img src="https://mbt4mw-dm2306.files.1drv.com/y3m4bDPZgQ871xh0PU_QAcxaL1v9QKVFYFi8Q2uAb82woT97il9OZ_njULBYVK8aNohSJIgAAawJaj-tNunCWe4oXs5LpggjuVv41JGAQ2TFPco7IB1Xx57j6y2X0TUAtNfOQvoJWLxFFHjL5eSgzVeooe_OjURV4VJ8q_QDhN7coA?width=660&amp;amp;height=363&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="I built this container up from nothing. When I started here, all there was was nanoserver. Other developers said it was daft to build Zookeeper on nanoserver, but I did it all the same. Just to show'em."&gt;
&lt;blockquote&gt;
&lt;p&gt;I built this [container] up from nothing. When I started here, all there was was [nanoserver]. Other [developers] said it was daft to build [Zookeeper] on [nanoserver], but I did it all the same. Just to show'em.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, from most of everything I have read about building docker images, it seemed the thing to do was use a &lt;a href="https://docs.docker.com/engine/reference/builder/"&gt;Dockerfile&lt;/a&gt; to start an intermediate container based on the source image (Microsoft/Nanoserver in this instance) then run a script within the intermediate container (as part of the dockerfile) to download, install and configure all the required components. The output of this docker build process would be a new image with the appropriate services running on startup.&lt;/p&gt;
&lt;p&gt;I therefore started by preparing a powershell script that would do just that. Following &lt;a href="http://stackoverflow.com/a/38895811"&gt;this post on StackOverflow&lt;/a&gt; I developed and tested a script on a Windows Server 2016 (Desktop Experience) Virtual Machine. This was done so that I could use &lt;a href="https://technet.microsoft.com/en-us/library/dn818483(v=ws.11).aspx"&gt;snapshotting&lt;/a&gt; in order to roll-back to a clean image anytime a issue with the script was encountered.&lt;/p&gt;
&lt;p&gt;Unfortunately, when it came time to try running Zookeeper I hit the following error at start-up:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;log4j:WARN No appenders could be found for logger (org.apache.zookeeper.server.quorum.QuorumPeerConfig).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
Invalid config, exiting abnormally
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Some quick googling turned up &lt;a href="https://bugzilla.redhat.com/show_bug.cgi?id=1181487#c5"&gt;this issue&lt;/a&gt; but every subsequent comment seemed to suggest that the issue had been resolved. I tried a &lt;a href="https://bugzilla.redhat.com/show_bug.cgi?id=1181487#c8"&gt;frustrating&lt;/a&gt; &lt;a href="https://bugzilla.redhat.com/show_bug.cgi?id=1181487#c9"&gt;number&lt;/a&gt; of &lt;a href="https://bugzilla.redhat.com/show_bug.cgi?id=1181487#c4"&gt;unsuccessful&lt;/a&gt; &lt;a href="http://tech.donghao.org/tag/zookeeper/"&gt;workarounds&lt;/a&gt; until I realized that it was a &lt;a href="https://en.wiktionary.org/wiki/PICNIC"&gt;PICNIC error&lt;/a&gt;. Specifically, while following the StackOverflow post above, I had failed to realize that the version of Zookeeper they specified wasn't actually the latest version and that the issue really had been resolved in a later version. This took a frustratingly and embarrassingly long time but hey, &lt;a href="http://www.goodreads.com/quotes/7678-when-people-say-it-s-always-the-last-place-you-look"&gt;it's always the last place you look&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Anyway, a morning of trial and error resulted in a thing of beauty; a script that would - completely automatically - download, extract, configure, install (as a service!) and run a Zookeeper instance. This is shown below:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;## Download sources
$zipUri = "http://homeserver/download/7z1604-x64.exe" # http://www.7-zip.org/a/7z1604-x64.exe";
$nssmUri = "http://homeserver/download/nssm-2.24.zip" # "https://nssm.cc/release/nssm-2.24.zip"
$javaUri = "http://homeserver/download/jre-8u111-windows-x64.exe" # "http://download.oracle.com/otn-pub/java/jdk/8u111-b14/jre-8u111-windows-x64.exe"
$zookeeperUri = "http://homeserver/download/zookeeper-3.4.9.tar.gz" # "http://apache.mirrors.nublue.co.uk/zookeeper/zookeeper-3.4.9/zookeeper-3.4.9.tar.gz"
$kafkaUri = "http://homeserver/download/kafka_2.11-0.10.1.0.tgz" # "http://apache.mirror.anlx.net/kafka/0.10.1.0/kafka_2.11-0.10.1.0.tgz"

## Application locations
$appDir = "c:\Apps"
$zipDir = $appDir + "\7zip"
$nssmDir = $appDir + "\nssm"
$zookeeperDir = $appDir + "\Zookeeper"

## Data locations
$zookeeperDataDir = $zookeeperDir + "\Data"

## Application executables
$zip = $zipDir + "\7z.exe"
$nssm = $nssmDir + "\nssm.exe"
$zookeeper = $zookeeperDir + "\bin\zkServer.cmd"

function New-TempPath()
{
    if (!(Test-Path -Path C:\Temp))
    {
        New-Item c:\Temp -ItemType Directory
    }
}

function Expand-File($zipFile, $targetPath)
{
    $args = @("e", $zipFile, "-o$targetPath", '-y')
    &amp;amp;$zip $args
}

function Expand-Directory($zipFile, $targetPath)
{
    $args = @("x", $zipFile, "-o$targetPath", '-aoa')
    &amp;amp;$zip $args
}

function Install-7zip()
{
    New-Item "c:\Temp\7zip" -ItemType Directory -Force
    Invoke-WebRequest -Uri $zipUri -OutFile c:\Temp\7zip\7zip.exe
    &amp;amp;"C:\Temp\7zip\7zip.exe" /S /D=$zipDir | Out-Null
    Remove-Item -Path "c:\Temp\7zip\7zip.exe"
}

function Install-NSSM()
{
    New-Item "c:\Temp\NSSM" -ItemType Directory -Force
    Invoke-WebRequest -Uri $nssmUri -OutFile c:\Temp\NSSM\NSSM.zip

    Expand-Directory c:\Temp\NSSM\NSSM.zip c:\Temp\NSSM

    ## Above will expand to a directory containing version name which we want to remove
    ## so we'll move everything up a directory
    $folder = Get-ChildItem -Path c:\Temp\NSSM -Filter "nssm-*"
    Get-ChildItem -Path $folder.FullName -Recurse | Move-Item -destination c:\Temp\NSSM -Force

    New-Item $nssmDir -ItemType Directory -Force
    Copy-Item -Path "c:\Temp\NSSM\win64\nssm.exe" $nssm -Force
}

function Install-Java()
{
    New-Item c:\Temp\Java -ItemType Directory -Force
    Invoke-WebRequest -Uri $javaUri -OutFile c:\temp\Java\Java.exe

    Start-Process "C:\Temp\Java\Java.exe" -ArgumentList "INSTALL_SILENT=Enable INSTALLDIR=C:\Java\Jre AUTO_UPDATE=Disable WEB_JAVA=Disable WEB_ANALYTICS=Disable EULA=Disable REBOOT=Disable NOSTARTMENU=Enable SPONSORS=Disable REMOVEOUTOFDATEJRES=0" -NoNewWindow -Wait

    [Environment]::SetEnvironmentVariable("JAVA_HOME", "C:\Java\Jre", "Machine")

    Remove-Item -Path "C:\Temp\Java\Java.exe"
}

function Get-Zookeeper()
{
    New-Item c:\Temp\Zookeeper -ItemType Directory -Force
    Invoke-WebRequest -Uri $zookeeperUri -OutFile c:\temp\Zookeeper\Zookeeper.tar.gz
    Expand-File c:\temp\Zookeeper\Zookeeper.tar.gz c:\temp\Zookeeper
    Expand-Directory c:\temp\Zookeeper\Zookeeper.tar $zookeeperDir

    ## Above will expand to a directory containing version name which we want to remove
    ## so we'll move everything up a directory
    $folder = Get-ChildItem -Path $zookeeperDir -Filter "zookeeper-*"
    Get-ChildItem -Path $folder.FullName -Recurse | Move-Item -destination $zookeeperDir -Force

    Remove-Item -Path $folder.FullName
    Remove-Item -Path "c:\temp\Zookeeper" -Recurse
}

function Initialize-Zookeeper()
{
    New-Item -Path $zookeeperDataDir -ItemType Directory -Force
    $zookeeperDataLinuxDir = $zookeeperDataDir.Replace('\', '/')

    Copy-Item -Path ($zookeeperDir + '\conf\zoo_sample.cfg') -Destination ($zookeeperDir + '\conf\zoo.cfg') -Force

    $configFile = $zookeeperDir + '\conf\zoo.cfg'
    $logFile = $zookeeperDir + '\conf\log4j.properties'

    $config = [IO.File]::ReadAllText($configFile) -replace "dataDir=[\/\w]*", ("dataDir=" + $zookeeperDataLinuxDir)
    [IO.File]::WriteAllText($configFile, $config)

    $logProperties = [IO.File]::ReadAllText($logFile) -replace "#log4j.rootLogger=DEBUG, CONSOLE, ROLLINGFILE", "log4j.rootLogger=DEBUG, CONSOLE, ROLLINGFILE"
    [IO.File]::WriteAllText($logFile, $logProperties)
}

function Install-Zookeeper()
{
    &amp;amp;$nssm install Zookeeper $zookeeper | Out-Null
    &amp;amp;$nssm set Zookeeper AppDirectory $zookeeperDir | Out-Null

    &amp;amp;$nssm set Zookeeper DisplayName "Zookeeper" | Out-Null
    &amp;amp;$nssm set Zookeeper Description "Apache Zookeeper. Running from $zookeeperDir" | Out-Null
    &amp;amp;$nssm set Zookeeper Start SERVICE_AUTO_START | Out-Null
    &amp;amp;$nssm set Zookeeper ObjectName LocalSystem | Out-Null
    &amp;amp;$nssm set Zookeeper Type SERVICE_WIN32_OWN_PROCESS | Out-Null
}

function Start-Zookeeper()
{
    &amp;amp;$nssm start Zookeeper | Out-Null
}

function Stop-Zookeeper()
{
    &amp;amp;$nssm stop Zookeeper | Out-Null
}

New-TempPath

Install-7zip
Install-NSSM
Install-Java

Get-Zookeeper
Initialize-Zookeeper
Install-Zookeeper
Start-Zookeeper
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With this mighty script in hand I prepared the following dockerfile:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;FROM microsoft/nanoserver
MAINTAINER Ian Bebbington &amp;lt;docker@bebbs.co.uk&amp;gt;
LABEL Description="Zookeeper running on Microsoft Nanoserver" Version="0.1"
ADD Install-Zookeeper.ps1 /
RUN [ "powershell.exe", "C:/Install-Zookeeper.ps1" ]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And watched in dismay as it completely failed to build a container.&lt;/p&gt;
&lt;p&gt;You see, while the script ran perfectly on Windows Server 2016, Nanoserver is a far more constrained environment. It has neither support for 32-bit assemblies nor any graphic stack to speak of so, in short-order, the 7zip utility, Java installer and &lt;a href="https://nssm.cc/"&gt;Non-Sucking Service Manager&lt;/a&gt; executables all failed.&lt;/p&gt;
&lt;p&gt;Well, crap.&lt;/p&gt;
&lt;h3&gt;Take 2&lt;/h3&gt;
&lt;img src="https://mbt5mw-dm2306.files.1drv.com/y3mDYUaDMt02GzcHWl0DE1ASfBA6QbYzEwY-koD_MSkQGr3oRavQLf5jyRBH5TVFEBASZyRxAL00cuoRKuNNJ6lvSfEJD42p0QkZNzUQAFV-TKzdglya78e_ON8lHg7vQBS96aSQL-Hz0AobNgzQ83uHZN1T3nyDQKlumWgM50OZBc?width=660&amp;amp;height=440&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="So! I built a second one!"&gt;
&lt;blockquote&gt;
&lt;p&gt;So! I built a second one!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My next thought was to try salvaging as much of the script as possible by using &lt;a href="https://technet.microsoft.com/en-us/library/ff700227.aspx"&gt;Powershell Remoting&lt;/a&gt; to interactively install the required components and then &lt;a href="https://docs.docker.com/engine/reference/commandline/commit/"&gt;committing&lt;/a&gt; the changes to a new image.&lt;/p&gt;
&lt;p&gt;While, in retrospect, this was undoubtedly the wrong way forward, I was simultaneously fortunate and frustrated by the fact that it simply doesn't seem possible to use powershell remoting with Nanoserver when running within a container. Indeed, after learning more about &lt;a href="https://msdn.microsoft.com/en-us/library/aa384426(v=vs.85).aspx"&gt;WinRM&lt;/a&gt; than I thought possible, posting on &lt;a href="https://social.msdn.microsoft.com/Forums/en-US/e0652324-30e4-4ebb-8689-55205e6d8bc9/enterpssession-to-nanoserver-container-in-docker-access-is-denied?forum=windowscontainers"&gt;Microsoft's Windows Container forums&lt;/a&gt; and even offering my &lt;a href="http://stackoverflow.com/questions/39195068/powershell-remote-access-to-nanoserver-on-docker"&gt;first bounty on StackOverflow&lt;/a&gt; I simply could not find an answer to why it wasn't possible to establish a remote session.&lt;/p&gt;
&lt;p&gt;In the mean time...&lt;/p&gt;
&lt;h3&gt;Take 3&lt;/h3&gt;
&lt;img src="https://mbt3mw-dm2306.files.1drv.com/y3m5x6G99So08jPRwR0n1Msb-8SrSKNaOsB6aLd-CYAk8kSo9xRsa6i9Kd44QzRHin_EKMOpsNMZpacjCkoeGaMsODu6S7zI3NavsVz89vKF4Ot3b9pLEwaHxmg2mxXzvG8rQqCyf7C769ScaTkbPQ5WG2RwwcTHOyRqm0A-4RDNuQ?width=660&amp;amp;height=441&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="So, I built a third one..."&gt;
&lt;blockquote&gt;
&lt;p&gt;I built a third one...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Powershell remoting works beautifully with Nanoserver when running in a Hyper-V virtual machine but Hyper-V networking and Docker networking configurations don't seem to play well together. Indeed, after creating a new virtual-router so that I could access the Nanoserver virtual machine from the host PC, the Docker NAT network became inaccessible. Now, I'm sure it would be possible to dig into the virtual networking configuration and find a way to resolve this but, having spent an incredibly frustrating few hours reconfiguring WinRM, I decided it would be quicker to simply re-install the host OS and start from scratch.&lt;/p&gt;
&lt;h3&gt;Take 4&lt;/h3&gt;
&lt;img src="https://oltxmw-dm2306.files.1drv.com/y3mGaNRc9vDgPZnXfcJZfjYwIEFL32s3nCdk_kA84gB5NGOAoC3SLqP5D7ZffgKPO1VHXQEaRXvVuGCwFjoLKyo7o-gaUXFvGRcZPRPQrifhGNlBmU8RfqR5ZTgKIhxRvzJIMPoXydQ_N5UROZmaUXtKHH3jKtxIobDubPEdWsp-GM?width=660&amp;amp;height=495&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="But the fourth one stayed up!"&gt;
&lt;blockquote&gt;
&lt;p&gt;But the fourth one stayed up!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To accompany the fresh host environment, I decided to employ a fresh approach to building the container image. Namely, use a script to build the container's file system structure on the host PC and then simply copy it wholesale to the container from within the dockerfile. This meant deploying the Java Runtime Environment from a compressed archive rather than silent executable and using the &lt;a href="https://docs.docker.com/engine/reference/builder/#/entrypoint"&gt;dockerfile entrypoint&lt;/a&gt; instruction to run Zookeeper rather than installing it as a service.&lt;/p&gt;
&lt;p&gt;After all the faff and frustration of the previous two attempts (not to mention reinstallation of OS on host PC), this approach was remarkably smooth. Again, in retrospect this was undoubtedly the correct approach but this approach almost certainly benefited from all the knowledge I had accrued from the previous failed attempts. As always, &lt;a href="http://www.goodreads.com/quotes/390439-we-learn-wisdom-from-failure-much-more-than-from-success"&gt;you can learn more from failure than success&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Anyway, in relatively short order, I had a script that prepared and configured the container's file system structure on the host PC and a dockerfile that copied this structure to a new image and set the Zookeeper service as the entrypoint for the image. These are shown below:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;## Download sources
$zipUri = "http://homeserver/download/7z1604-x64.exe" # http://www.7-zip.org/a/7z1604-x64.exe";
$javaUri = "http://homeserver/download/jre-8u111-windows-x64.tar.gz" # "http://download.oracle.com/otn-pub/java/jdk/8u111-b14/jre-8u111-windows-x64.tar.gz"
$zookeeperUri = "http://homeserver/download/zookeeper-3.4.9.tar.gz" # "http://apache.mirrors.nublue.co.uk/zookeeper/zookeeper-3.4.9/zookeeper-3.4.9.tar.gz"
$dockerModuleUri = "http://homeserver/download/Docker.0.1.0.zip" # "https://github.com/Microsoft/Docker-PowerShell/releases/download/v0.1.0/Docker.0.1.0.zip"

## Build location
$buildDir = Get-Location
$tmpDir = $buildDir.Path + "\Temp"
$rootDir = $buildDir.Path + "\Root"
$biuldAppDir = $rootDir + "\Apps"
$buildDataDir = $rootDir + "\Data"
$buildDockerZip = $tmpDir + "\Docker.zip"
$buildDockerModule = $tmpDir + "\Docker"
$buildZipDir = $tmpDir + "\7zip"
$buildJreDir = $biuldAppDir + "\Jre"
$buildZookeeperDir = $biuldAppDir + "\Zookeeper"
$buildZookeeperDataDir = $buildDataDir + "\Zookeeper"

## Temp files
$zipInstaller = $tmpDir + "\7zInstaller.exe"
$jreGzip = $tmpDir + "\Jre.tar.gz"
$jreTar = $tmpDir + "\Jre.tar"
$zooKeeperGzip = $tmpDir + "\Zookeeper.tar.gz"
$zooKeeperTar = $tmpDir + "\Zookeeper.tar"

## Target locations
$targetDir = "C:\"
$appDir = $targetDir + "\Apps"
$dataDir = $targetDir + "\Data"
$jreDir = $appDir + "\Jre"
$zookeeperDir = $appDir + "\Zookeeper"
$zookeeperDataDir = $dataDir + "\Zookeeper"

## Executables
$zip = $buildZipDir + "\7z.exe"
$zookeeper = $zookeeperDir + "\bin\zkServer.cmd"
$docker = "docker"

function New-TempPath()
{
    if (!(Test-Path -Path $tmpDir))
    {
        New-Item $tmpDir -ItemType Directory
    }
}

function Remove-TempPath()
{
    Remove-Item $tmpDir -Recurse -Force
}

function New-RootPath()
{
    Remove-Item $rootDir -Recurse -Force
    New-Item $rootDir -ItemType Directory
}

function Remove-RootPath()
{
    Remove-Item $rootDir -Recurse -Force
}

function Expand-File($zipFile, $targetPath)
{
    $args = @("e", $zipFile, "-o$targetPath", '-y')
    &amp;amp;$zip $args | Out-Host
}

function Expand-Directory($zipFile, $targetPath)
{
    $args = @("x", $zipFile, "-o$targetPath", '-aoa')
    &amp;amp;$zip $args | Out-Host
}

function Install-DockerModule()
{
    Invoke-WebRequest -Uri $dockerModuleUri -OutFile $buildDockerZip
    Expand-Archive -Path $buildDockerZip -DestinationPath $buildDockerModule -Force

    Import-Module $buildDockerModule
}

function Remove-DockerModule()
{
    Remove-Module $buildDockerModule
}

function Install-7zip()
{
    $folder = New-Item $buildZipDir -ItemType Directory -Force
    Invoke-WebRequest -Uri $zipUri -OutFile $zipInstaller
    &amp;amp;$zipInstaller /S /D=$folder | Out-Null
    Remove-Item -Path $zipInstaller
}

function Remove-7zip()
{
    Remove-Item $buildZipDir -Recurse -Force
}

function Get-Java()
{
    Invoke-WebRequest -Uri $javaUri -OutFile $jreGzip
    Expand-File $jreGzip $tmpDir
    Expand-Directory $jreTar $buildJreDir

    ## Above will expand to a directory containing version name which we want to remove
    ## so we'll move everything up a directory
    $folder = Get-ChildItem -Path $buildJreDir -Filter "jre*"
    Get-ChildItem -Path $folder.FullName -Recurse | Move-Item -destination $buildJreDir -Force

    Remove-Item -Path $folder.FullName -Force
    Remove-Item -Path $jreGzip -Force
    Remove-Item -Path $jreTar -Force
}

function Get-Zookeeper()
{
    Invoke-WebRequest -Uri $zookeeperUri -OutFile $zooKeeperGzip
    Expand-File $zooKeeperGzip $tmpDir
    Expand-Directory $zooKeeperTar $buildZookeeperDir

    ## Above will expand to a directory containing version name which we want to remove
    ## so we'll move everything up a directory
    $folder = Get-ChildItem -Path $buildZookeeperDir -Filter "zookeeper-*"
    Get-ChildItem -Path $folder.FullName -Recurse | Move-Item -destination $buildZookeeperDir -Force

    Remove-Item -Path $folder.FullName -Force
    Remove-Item -Path $zooKeeperTar -Force
    Remove-Item -Path $zooKeeperGzip -Force
}

function Initialize-Zookeeper()
{
    New-Item -Path $buildDataDir -ItemType Directory -Force
    New-Item -Path $buildZookeeperDataDir -ItemType Directory -Force

    $zookeeperDataLinuxDir = $zookeeperDataDir.Replace('\', '/')

    Copy-Item -Path ($buildZookeeperDir + '\conf\zoo_sample.cfg') -Destination ($buildZookeeperDir + '\conf\zoo.cfg') -Force

    $configFile = $buildZookeeperDir + '\conf\zoo.cfg'
    $logFile = $buildZookeeperDir + '\conf\log4j.properties'

    $config = [IO.File]::ReadAllText($configFile) -replace "dataDir=[\/\w]*", ("dataDir=" + $zookeeperDataLinuxDir)
    [IO.File]::WriteAllText($configFile, $config)

    $logProperties = [IO.File]::ReadAllText($logFile) -replace "#log4j.rootLogger=DEBUG, CONSOLE, ROLLINGFILE", "log4j.rootLogger=DEBUG, CONSOLE, ROLLINGFILE"
    [IO.File]::WriteAllText($logFile, $logProperties)
}

function New-DockerImage()
{
    Build-ContainerImage -Path $buildDir -Repository "ibebbs/nanozoo:latest"
}


# Setup directory structure
New-TempPath
New-RootPath

# Install required tools
Install-DockerModule
Install-7zip

# Get components
Get-Java
Get-Zookeeper
Initialize-Zookeeper

# Build docker image
New-DockerImage

# Cleanup
Remove-DockerModule
Remove-7zip
Remove-TempPath
Remove-RootPath
&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;FROM microsoft/nanoserver
MAINTAINER Ian Bebbington &amp;lt;docker@bebbs.co.uk&amp;gt;
LABEL Description="Zookeeper running on Microsoft Nanoserver" Version="0.1"
ADD Root /
ADD Start-Zookeeper.ps1 /
RUN setx /M JAVA_HOME C:\Apps\Jre
EXPOSE 2181
ENTRYPOINT [ "powershell.exe", "C:/Start-Zookeeper.ps1" ]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And this one worked. This one started. This one stayed up!&lt;/p&gt;
&lt;h2&gt;Building the Kafka image&lt;/h2&gt;
&lt;p&gt;With the Zookeeper scripts as a pattern, it was ludicrously easy to script up another image for Kafka. Just a few changes to file names and configuration parameters and Kafka started almost first time.&lt;/p&gt;
&lt;p&gt;I won't copy the script or dockerfile here as they're extremely similar to the Zookeeper versions. Instead, all scripts and files used above can be found in my &lt;a href="https://github.com/ibebbs/Docker"&gt;Docker repository on Github&lt;/a&gt; and the resultant images can be found on &lt;a href="https://hub.docker.com/r/ibebbs/"&gt;Docker hub&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Moving forward&lt;/h2&gt;
&lt;img src="https://oltymw-dm2306.files.1drv.com/y3mIddKC619ngQYu9mwpyXXi9YgUp-MVwZ9_lR8JRla2AKvMm91LwnW2p0G3GkOZj5X_TXQUap_XULDAaiCWMC5Hx0ZvjKdAjeW7YWqacnwEAgCSZgmgBF1DCH83Zcywki6qKmOXbKkZO_SWmvQHpajyOQRHO1pJNB3ak2YpT6DmX8?width=660&amp;amp;height=371&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="But I don't want any of that!"&gt;
&lt;blockquote&gt;
&lt;p&gt;But I don't want any of that!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Moving forward, I need to address a couple of short-comings in the Kafka script (specifically the hard-coded IP address for the Zookeeper container) and then look to use Docker Compose to automatically bring up Zookeeper and Kafka on demand.&lt;/p&gt;
&lt;p&gt;It's been an interesting journey so far and I've not even begun to actually use the deployed services yet! Still, it is truly magical to run a docker container and see it boot an entire Windows server and service in just 10-20 seconds and a few hundred Mb.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;For my first blog post of the new year (Happy New Year everyone!!!), I'd like to share some of my recent adventures with Docker on Windows, or, more specifically, Docker on Windows using Nanoserver as the container OS.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ReactiveStateMachines" />
		<id>http://ian.bebbs.co.uk/posts/ReactiveStateMachines</id>
		<title>Reactive State Machines</title>
		<updated>2016-11-09T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Today I'd like to share an implementation I've recently been employing that leverages Rx to implement a &lt;a href="https://en.wikipedia.org/wiki/Finite-state_machine"&gt;state-machine&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.martinfowler.com/dslCatalog/stateMachine.html"&gt;State-machines are a terrific pattern&lt;/a&gt; that, when applied correctly, can greatly simplify the implementation, maintenance and extensibility of many types of functionality; from &lt;a href="https://msdn.microsoft.com/en-gb/windows/uwp/launch-resume/app-lifecycle"&gt;application lifecycle management&lt;/a&gt; to business process coordination. They're particularly helpful with long-running, asynchronous processes that need to behave differently at various stages of the process, especially when the process is message or event driven.&lt;/p&gt;
&lt;p&gt;Normally, state machines are defined by "a list of its states, its initial state, and the triggering condition for each transition". However, when looked at from the point of view of "&lt;a href="http://slides.com/robwormald/everything-is-a-stream#/" title="Everything is a stream - Rob Wormald"&gt;everything&lt;/a&gt; &lt;a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" title="The introduction to Reactive Programming you've been missing - andrestaltz"&gt;being&lt;/a&gt; &lt;a href="http://weareadaptive.com/blog/2014/05/05/everything-is-a-stream/" title="Reactive Trader 2: Everything is a Stream - Matt Barrett"&gt;a&lt;/a&gt; &lt;a href="http://colintheshots.com/blog/?p=85" title="Be Reactive - Colintheshots"&gt;stream&lt;/a&gt;", they can also be viewed as a stream of transitions with states existing as the rest period between those transitions.&lt;/p&gt;
&lt;p&gt;In this mindset, a state can simply be defined as follows:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;public interface IState
{
    IObservable&amp;lt;ITransition&amp;gt; Enter();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In short, the result of entering a state is an observable of transitions away from the state.&lt;/p&gt;
&lt;p&gt;With this in hand, the state machine of, for example, a typical UWP app can be defined as follows:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;public class StateMachine
{        
    private readonly IStateFactory _factory;
    private readonly Subject&amp;lt;IState&amp;gt; _state;

    public Machine(IStateFactory factory)
    {
        _factory = factory;

        _state = new Subject&amp;lt;IState&amp;gt;();
    }

    public IDisposable Initialize()
    {
        // First create a stream of transitions by ...
        IObservable&amp;lt;ITransition&amp;gt; transitions = _state
            // ... starting from the initializing state ...
            .StartWith(_factory.Initializing())
            // ... enter the current state ...
            .Select(state =&amp;gt; state.Enter())
            // ... subscribing to the transition observable ...
            .Switch()
            // ... and ensure only a single shared subscription is made to the transitions observable ...
            .Publish()
            // ... held until there are no more subscribers
            .RefCount();

        // Then, for each transition type, select the new state...
        IObservable&amp;lt;IState&amp;gt; states = Observable.Merge(
            states.OfType&amp;lt;Transition.ToStarting&amp;gt;().Select(transition =&amp;gt; _factory.Starting()),
            states.OfType&amp;lt;Transition.ToResuming&amp;gt;().Select(transition =&amp;gt; _factory.Resuming()),
            states.OfType&amp;lt;Transition.ToRunning&amp;gt;().Select(transition =&amp;gt; _factory.Running()),
            states.OfType&amp;lt;Transition.ToSuspending&amp;gt;().Select(transition =&amp;gt; _factory.Suspending())
        );

        // Finally, subscribe to the state observable ...
        return states
            // ... ensuring all transitions are serialized ...
            .ObserveOn(Scheduler.CurrentThread)
            // ... back onto the source state observable
            .Subscribe(_state);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are no constraints regarding which events/triggers each state uses to construct the observable of transitions returned when the Enter method is called, but they usually follow one of two patterns:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Wait for an event/trigger to be received and transition to a new state based on the type of event/trigger received.&lt;/li&gt;
&lt;li&gt;Perform an asynchronous / long-running process and transition to another state when it completes.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To illustrate this, the Initializing and Starting state definitions below can be considered to be examples of the former and latter patterns respectively.&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;internal class Initializing : IState
{
    private readonly IEventAggregator _bus;

    public Initializing(IEventAggregator bus)
    {
        _bus = bus;
    }

    public IObservable&amp;lt;ITransition&amp;gt; Enter()
    {
        return Observable.Merge&amp;lt;ITransition&amp;gt;(
            _bus.GetEvent&amp;lt;Event.Start&amp;gt;().Select(_ =&amp;gt; new Transition.ToStarting()),
            _bus.GetEvent&amp;lt;Event.Resume&amp;gt;().Select(_ =&amp;gt; new Transition.ToResuming())
        );
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;internal class Starting : IState
{
    private readonly DataStore.IContext _dataStoreContext;

    public Starting(DataStore.IContext dataStoreContext)
    {
        _dataStoreContext = dataStoreContext;
    }

    public IObservable&amp;lt;ITransition&amp;gt; Enter()
    {
        return Observable.Create&amp;lt;ITransition&amp;gt;(
            async observer =&amp;gt;
            {
                await _dataStoreContext.InitializeAsync();

                observer.OnNext(new Transition.ToRunning());
            }
        );
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see, states can (and should!) be very small and easily testable. All together a complete, strongly typed, 'async' friendly state machine can be implemented with just a handful of classes containing minimal code.&lt;/p&gt;
&lt;p&gt;I have used this pattern on numerous occasions and enjoy the simplicity and extensibility it affords me when defining long-running process flows.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Today I'd like to share an implementation I've recently been employing that leverages Rx to implement a &lt;a href="https://en.wikipedia.org/wiki/Finite-state_machine"&gt;state-machine&lt;/a&gt;.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ToddlerBoxReleasedToStore" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/y3mVAxtKFjUEGk7Hdhzjl4UZ2INnFdBbw9K-tnYZ8DYoJ-VoKxpAN6w8Ng0DFTYdSxpHY6IvL5-VwJpLkQl6qWRmMQXSExLXopz5CFuSxIbyaMLrnL2Vy3yPZlISAAknXZdT4HwiZJ55zg2UtKwucBL88-xHh6rn5Mh97yzfRsCPjI%253Fwidth=1919&amp;height=1075&amp;cropmode=none" />
		<id>http://ian.bebbs.co.uk/posts/ToddlerBoxReleasedToStore</id>
		<title>ToddlerBox Released to the XBox Store</title>
		<updated>2016-11-16T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;My little girl loves playing with the XBox controller. In fact, she'll make a beeline for it as soon as she sees it and sit for ages twiddling the thumb-sticks and mashing the buttons. So I thought it'd be great to provide some visual accompaniment to the tactile experience of playing with the controller. Furthermore, I'd been looking for an excuse to play with Win2D as part of a UWP app and this felt like a perfect opportunity.&lt;/p&gt;
&lt;p&gt;To this end, I cracked open Visual Studio, started a blank UWP app, added a nuget reference to Win2D and started coding. Using a &lt;a href="https://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_UI_Xaml_CanvasAnimatedControl.htm"&gt;CanvasAnimatedControl&lt;/a&gt; it was simple to use the &lt;a href="https://microsoft.github.io/Win2D/html/E_Microsoft_Graphics_Canvas_UI_Xaml_CanvasAnimatedControl_Update.htm"&gt;Update&lt;/a&gt; callback to read the &lt;a href="https://msdn.microsoft.com/en-us/library/windows/apps/windows.gaming.input.gamepad"&gt;Gamepad&lt;/a&gt; input and then use the &lt;a href="https://microsoft.github.io/Win2D/html/E_Microsoft_Graphics_Canvas_UI_Xaml_CanvasAnimatedControl_Draw.htm"&gt;Draw&lt;/a&gt; callback to draw a series of sprites based on the values read.&lt;/p&gt;
&lt;p&gt;All in, from not having used Win2D before, it took just a few hours to get a minimal app working with a variety of sprites and manipulation mechanisms. Flipping my &lt;a href="https://msdn.microsoft.com/en-gb/windows/uwp/xbox-apps/devkit-activation"&gt;XBox into developer mode&lt;/a&gt; allowed me to deploy the app directly to the Xbox and have a play. And I must say, I was very pleased with the result:&lt;/p&gt;
&lt;img src="https://zphxkg.dm2302.livefilestore.com/y3mynwGeO7sZByGMtgH7TP5ykDeabNNlbyLCFHZfLu2Ml9QbQft2wq6-MeIxMukEXnVpiqZfLa_lh7h15xlStRf8Eo81_y5J-zSplYIIDh5dKAkS-j2q2wS4-GUHpOpwW5eltQ8_CLhSQNoRRJwdZWs_AhjvxhhOMdCS5PB-stLlTE?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="Lots of animals"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;Lots of animals&lt;/h6&gt;
&lt;img src="https://zphykg.dm2302.livefilestore.com/y3mVAxtKFjUEGk7Hdhzjl4UZ2INnFdBbw9K-tnYZ8DYoJ-VoKxpAN6w8Ng0DFTYdSxpHY6IvL5-VwJpLkQl6qWRmMQXSExLXopz5CFuSxIbyaMLrnL2Vy3yPZlISAAknXZdT4HwiZJ55zg2UtKwucBL88-xHh6rn5Mh97yzfRsCPjI?width=1024&amp;amp;height=574&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="Lots of colours"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;Lots of colours&lt;/h6&gt;
&lt;img src="https://zphwkg.dm2302.livefilestore.com/y3m8XFQkqAgfzj1Yt9EqXW14XVybPwILZ0Hn_yGK2sbayqyeGZVqwSOGpT_xAJS3WwzYFeyQ4Gw66Fa-QyRpM71WpPUktEfgvgteIKAXfp9qCSW_my9s-7kb4Ys7Qz1JYRHv-k8fl1Y8xTTDpLhfY5xG2m56hT_ObFWrKxFhV-N-lw?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="Big..."&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;Big...&lt;/h6&gt;
&lt;img src="https://zphvkg.dm2302.livefilestore.com/y3mN4YESAkR1YSr8YbSDJtqi2DGD20bBa_w5RR2cYyAm9aXKXxib1A65RnVBxraAGCEXRELh0QMYDSASbm7F8ADzvh7EizJXlz-odd9Vhvq0ccfd0yNyL4v1f2qex5ol96GP6qvxE35Fo1L-hdlu9cfo08lDWZielw6ffr-vZ92aYE?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="...or small"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;...or small&lt;/h6&gt;
&lt;img src="https://zphukg.dm2302.livefilestore.com/y3mcH_fRNs467C1gL7rApW6mWiFYB-eCoUexIuW3CwX4Cb0seAy8IxNhjyiGFQx3jDrcB8ToLQJgekRDInIwMkMHQvVZ05vWCPrptx2vxkcu-KG40ldNAqOZu2ulyL7OPSGt7uuFNnZLOdtycCFVs3Tl5IWJltKR6uhEgxNW_j-4tI?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="And monkeys!!!"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;And monkeys!!!!&lt;/h6&gt;
&lt;p&gt;The real test came when I handed to the controller to my 14 month old baby girl. It took a few seconds for her to realise that what she did on the controller affected what was displayed on screen but then there was no stopping her. For three or four minutes (a record for her!!!) she sat still, mashing away on the controller and staring at the screen while I sat mesmerized by how quickly she picked it all up.&lt;/p&gt;
&lt;p&gt;I'd call that a win!&lt;/p&gt;
&lt;p&gt;Given this success, I made some final touches and submitted it to the store; specifically for XBox. To my amazement, it passed certification first time, within 24 hours of submission despite submitting it on a Sunday. And here it is:&lt;/p&gt;
&lt;img src="https://1y8kkg.dm2302.livefilestore.com/y3mRbMDxeVB6f5ArIwJ6FjYCPRmwpPTp6LL2IGiIFOrFVgHzox_2HUl9lPNSq09KxXP5M3LD1E3nwgFi1a8HUCT-0dTH_VmemTLCQwHggxqy8u04C85i51eLPBj1op_n2ppnjK2zkhGDHcWWAyYvkncmNy4bqw58vumGP8BY4f9nZU?width=1024&amp;amp;height=576&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800px; margin-top: 6px; margin-bottom: 6px;" alt="ToddlerBox in the store"&gt;
&lt;p&gt;Installing from the store and ready to entertain my little one whenever I need a break.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;My little girl loves playing with the XBox controller. In fact, she'll make a beeline for it as soon as she sees it and sit for ages twiddling the thumb-sticks and mashing the buttons. So I thought it'd be great to provide some visual accompaniment to the tactile experience of playing with the controller. Furthermore, I'd been looking for an excuse to play with Win2D as part of a UWP app and this felt like a perfect opportunity.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/CqrsEsMvvmRxEfSqlUwpPcl" />
		<id>http://ian.bebbs.co.uk/posts/CqrsEsMvvmRxEfSqlUwpPcl</id>
		<title>CQRS/ES &amp; MVVM using RX, EF &amp; SQL in UWP &amp; PCL …</title>
		<updated>2016-12-22T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;So, while ToddlerBox is riding high, I'd like to share some thoughts about another app I have in the store; &lt;a href="https://www.microsoft.com/en-gb/store/p/littlelittle/9nblggh51b1b"&gt;LittleLittle&lt;/a&gt;. This app has been the subject of most of my efforts over the last few months and is significantly more complex (and, frustratingly, less successful!) than ToddlerBox.&lt;/p&gt;
&lt;p&gt;LittleLittle was started shortly after my baby girl started weaning and became constipated - apparently a very common occurrence. When we visited a paediatrician about it, they asked that we keep a record of her bowel movements so that we could track the condition to see if it was getting better or worse.&lt;/p&gt;
&lt;p&gt;"I wonder if there's an app for that", I thought. And, of course, there was.&lt;/p&gt;
&lt;h2&gt;Opportunity and Methodology&lt;/h2&gt;
&lt;p&gt;However, while there are plenty of other baby tracking apps out there, very few work across platform (I use Windows Mobile while my partner uses Android) and even fewer work as I feel they should.&lt;/p&gt;
&lt;p&gt;Given the requirement to work across a variety of platforms, maximising code re-use was extremely desirable. As such, I decided that all of the core-logic for the app needed to be written in a PCL. Furthermore, particular care would be taken to observe a pure MVVM methodology so that ViewModels (an embodiment of the app's UX) could also be shared across platform.&lt;/p&gt;
&lt;p&gt;Finally, following some work in the CQRS/ES space at my previous employer, I wanted to write an app that used this methodology end-to-end. LittleLittle seemed a perfect opportunity to do so.&lt;/p&gt;
&lt;h2&gt;Technology and Platform&lt;/h2&gt;
&lt;p&gt;To partner the &lt;a href="http://martinfowler.com/bliki/CQRS.html"&gt;CQRS&lt;/a&gt;/&lt;a href="http://martinfowler.com/eaaDev/EventSourcing.html"&gt;ES&lt;/a&gt; methodology, I was keen to use &lt;a href="https://msdn.microsoft.com/en-us/library/hh242985.aspx"&gt;Rx&lt;/a&gt; as the driving technology for implementation. As readers of my blog will know, I am very much of the opinion that "&lt;a href="http://slides.com/robwormald/everything-is-a-stream#/" title="Everything is a stream - Rob Wormald"&gt;everything&lt;/a&gt; &lt;a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" title="The introduction to Reactive Programming you've been missing - andrestaltz"&gt;is&lt;/a&gt; &lt;a href="http://weareadaptive.com/blog/2014/05/05/everything-is-a-stream/" title="Reactive Trader 2: Everything is a Stream - Matt Barrett"&gt;a&lt;/a&gt; &lt;a href="http://colintheshots.com/blog/?p=85" title="Be Reactive - Colintheshots"&gt;stream&lt;/a&gt;" and event sourcing from "a stream of events" seemed a perfect fit for Rx.&lt;/p&gt;
&lt;p&gt;Given that the Event Sourcing methodology - not to mention the nature of the app itself - required a persistence layer, I decided to use a recently new technology; &lt;a href="https://docs.microsoft.com/en-us/ef/core/"&gt;Entity Framework Core&lt;/a&gt;. I decided on EFCore simply because the tooling for the UWP platform was pretty good and I liked the 'code-first' approach to schema and migration generation. Coupled with this, I decided to use a &lt;a href="https://docs.microsoft.com/en-us/ef/core/providers/sqlite/"&gt;SQLite&lt;/a&gt; database as it was a proven data store for use with EFCore and across a variety of underlying platforms.&lt;/p&gt;
&lt;p&gt;Finally, when I started LittleLittle I was studying for the &lt;a href="https://www.microsoft.com/en-us/learning/exam-70-357.aspx"&gt;Microsoft Beta Exam "Developing Mobile Apps"&lt;/a&gt;. As such, while I was keen for the app to be cross-platform, the initial platform I wanted to support was UWP. I was - and still am - amazed by how, if you craft your code and views carefully, an application can run on an amazing number for platforms including RaspberryPi, Phone, Tablet, PC, Xbox and Hololens.&lt;/p&gt;
&lt;h2&gt;And here's one I made earlier…&lt;/h2&gt;
&lt;p&gt;After many weeks of work, innumerable iterations and much refactoring, I ended up with this:&lt;/p&gt;
  &lt;div class="horizontal_list"&gt;
    &lt;div class="horizontal_list_item"&gt;
      &lt;img src="https://zuimew-dm2306.files.1drv.com/y3mcsjpC-olqYg0zbsOtSdJ1adHni1Apkeklf-2gzDpiB9ph_25HlwE5jeyMxex_1ryS-zVZxkMw0vtNsDCMrnzser84bs_zq9S75PZqddHWrRfMGfo3YbQhc-3ZwJGzjHMRuX_Ml0UQ_81MQnW4oOqva8Ap2jw2DIbULXOgc9ER7E?width=144&amp;amp;height=256&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:256px; margin-top: 6px; margin-bottom: 6px;" alt="Splashscreen"&gt;
    &lt;/div&gt;
    &lt;div class="horizontal_list_item"&gt;
      &lt;img src="https://zuilew-dm2306.files.1drv.com/y3muwswRbqzTW9QY2Ms8LyW2AAl8vIDTt8DKl-lsB_0uqQvGZJDkqFRF1Jg151-YQzqyUxourRpTXaaHttLPaXkE3hXmavIZKYyI7isdayp_PLbXDVOKCX_u83bEdzFmsfPRAikqWEVteWkTaFnX1SH8YgEd4UABUffd5dVZ4QAkvM?width=144&amp;amp;height=256&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:256px; margin-top: 6px; margin-bottom: 6px;" alt="Available actions"&gt;
    &lt;/div&gt;
    &lt;div class="horizontal_list_item"&gt;
      &lt;img src="https://zuikew-dm2306.files.1drv.com/y3mCHoxbDYsMkbkH-RQlFyxK5Y6zVhP_TU7JYj_MLCQrEfQsClKqlWoVqSsEt-ae7tYBvH89lvstPnIfhrA6MKPXNyjAp7O9EMy28Cof7nnc22DTFYs5FUECbQUEV_P8HxaVwWSFUyEN1MGAuWfY1x-36ZHviTEjqBOZM9m6pYm80Q?width=144&amp;amp;height=256&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:256px; margin-top: 6px; margin-bottom: 6px;" alt="History"&gt;
    &lt;/div&gt;
    &lt;div class="horizontal_list_item"&gt;
      &lt;img src="https://zuiiew-dm2306.files.1drv.com/y3mz7gADh3Y09Fb6QuQ2CY35gjWD2T9KEY_oWWbcijxNl2URePlVW0IjLhEBWeIoPOR1a-gAhRyoYNTdtefVfe8vd6d-Lnq5Cq_rcXEt4HZ5kt-jxOsCPLkJCaJtnfi5P-dTVNtJhMBYNbOtfiHXiPd9HsZODdjUwX-LphBvBAl_98?width=144&amp;amp;height=256&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:256px; margin-top: 6px; margin-bottom: 6px;" alt="Height and weight charts"&gt;
    &lt;/div&gt;
    &lt;div class="horizontal_list_item"&gt;
      &lt;img src="https://zeirew-dm2306.files.1drv.com/y3miUjsB3mUDyGdRCPudsd1I42ad9-MAI5JRV15z821gQAc7H_mqIgEeEDr1YWCvZh5AZOT6BAuAVSdMwz-Qnr6mG53KzP8xbeo2hinEJyplWnHoVs4FG7sbga6HMgLP6qd_x_mxRx2uqEVTfVAgXSOLMmHnQSpMxbV7DzQzPT1LXY?width=144&amp;amp;height=256&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:256px; margin-top: 6px; margin-bottom: 6px;" alt="Sleep and excretion charts"&gt;
    &lt;/div&gt;
    &lt;div class="horizontal_list_item"&gt;
      &lt;img src="https://zeiqew-dm2306.files.1drv.com/y3m2ZYqI7vBDCM_Ptv8Xvgo-UeDhvqtKIh5cxNy40KinoCzXem7V_-gIOsrkYvWyOtI6dod-HgNweHuue9DUB9r2yvgPNNXVvkPkIJKshYS4z-M1Qts9DPdqobqwnfHpIjewlWDj_Z6sFFVgbRlvsySton_n_nQrk4buXjebRss5JQ?width=144&amp;amp;height=256&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:256px; margin-top: 6px; margin-bottom: 6px;" alt="Sleep and excretion charts"&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;p&gt;And I'm extremely happy with the result. CQRS/ES and Rx are a perfect match and the technology stack in general has been extremely productive.&lt;/p&gt;
&lt;p&gt;This morning I drew up a (retrospective) architecture to illustrate how much of the application is portable and how simple yet extensible it is.&lt;/p&gt;
&lt;img src="https://bdliqq-dm2306.files.1drv.com/y3mdSQ-fHhXJWrDI-4wfqFoaso56RU_vCH51ognfdTMYlml6nEgxQHUJWgTgHg5fw4cAEwpaJM1GVookE2ok4HscXXmd-a6WAcU7Xd509Rdmb35JaS2-5Zzx5G_YiNpAoxLekZifHRzDQittyVv6rybVIp33YiqopFatHZVcND-lhY?width=1024&amp;amp;height=626&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800; margin-top: 6px; margin-bottom: 6px;" alt="Architecture diagram"&gt;
&lt;h2&gt;"The proof is in the dog-fooding"&lt;/h2&gt;
&lt;p&gt;Apologies for the mixed metaphors but, suffice to say, while the technology choices may be deemed to be a success, the app can only be consider to be so if it is fit for purpose. As such, I have been using LittleLittle everyday for the past several weeks - across a number of iterations and versions - and I'm very, very pleased with the result. The UI is fast and efficient to use and the app has yet to crash or lose any data (either at runtime or between versions).&lt;/p&gt;
&lt;p&gt;Indeed, a little while ago my other half took our baby to stay with her grandparents for a several days and agreed to keep LittleLittle up to date while she was away. She came back with a couple of small suggestions but overall very impressed by how fast and easy to use it was.&lt;/p&gt;
&lt;p&gt;While it has yet to see a significant number of Windows Store acquisitions, Store Analytics shows there are a few people actively using the app and, so far, I have yet to see any crashes or failures. I intend to leverage the success of ToddlerBox to promote LittleLittle in the near future so, fingers crossed, it'll start getting some serious use and useful feedback.&lt;/p&gt;
&lt;h2&gt;Moving forward&lt;/h2&gt;
&lt;p&gt;While I intend to put LittleLittle on hold for a little while in order to work on some other projects I've been meaning to look at, I very much intend to return to the project early in the new year. I have a backlog full of features I'd like to implement not to mention the need to write a version which runs on Android/iOS (which will probably be in Xamarin).&lt;/p&gt;
&lt;p&gt;In the mean time, I will be blogging about a few of the components in the architecture diagram above and sharing some of the approaches I have taken and successes (or problems!) I encountered.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;So, while ToddlerBox is riding high, I'd like to share some thoughts about another app I have in the store; &lt;a href="https://www.microsoft.com/en-gb/store/p/littlelittle/9nblggh51b1b"&gt;LittleLittle&lt;/a&gt;. This app has been the subject of most of my efforts over the last few months and is significantly more complex (and, frustratingly, less successful!) than ToddlerBox.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/UsingSVGInUWP" />
		<id>http://ian.bebbs.co.uk/posts/UsingSVGInUWP</id>
		<title>The absolute easiest way to use SVG icons in UWP apps</title>
		<updated>2016-09-01T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;There are &lt;a href="http://stackoverflow.com/a/3528493/628821"&gt;many&lt;/a&gt; (&lt;a href="http://stackoverflow.com/a/22107360/628821"&gt;many&lt;/a&gt;, &lt;a href="http://blogs.u2u.be/diederik/post/2012/07/26/Transforming-SVG-graphics-to-XAML-Metro-Icons.aspx"&gt;many&lt;/a&gt;) ways to use SVG assets as icons in UWP / XAML apps, most requiring some form of DataTemplate or UserControl. While these approaches work &lt;em&gt;ok&lt;/em&gt; they're normally a pain to author and use, often requiring custom converters to be written if the asset is to be used via any form of data binding. Here I present an extremely flexible way of using these assets that requires nothing more than drag-and-drop.&lt;/p&gt;
&lt;p&gt;This approach uses &lt;a href="https://glyphter.com/"&gt;Glyphter&lt;/a&gt; - a free, online tool for converting SVG icons to fonts - to produce a custom font containing your SVG assets; similar to fonts like &lt;a href="http://modernicons.io/segoe-mdl2/cheatsheet/"&gt;Segoe MDL2&lt;/a&gt; and &lt;a href="http://fontawesome.io/"&gt;FontAwesome&lt;/a&gt;. Glypter's free tier allows you to craft a single font, containing just basic alpha-numerics. Should you need more than this, you can upgrade to a premium tier which allows you to work on multiple fonts of a much greater size.&lt;/p&gt;
&lt;p&gt;Once you've built your font, it can be embedded in the app package and icons displayed by simply using a TextBlock element with the Text property set to the alpha-numeric code of the icon to display and the FontFamily set to the custom font. Furthermore, you're easily able to present the required icons in the desired colour - by changing the TextBlock's Foreground brush - and size - by changing FontSize or embedding within the TextBlock within a ViewBox.&lt;/p&gt;
&lt;p&gt;To get started, simply locating the SVG asset you'd like to use. &lt;a href="https://thenounproject.com/"&gt;The Noun Project&lt;/a&gt; is a good resource containing an incredible number of high quality icons that can be used in commercial products for a small fee or via attribution. Once you've found the icon you want to use - lets use &lt;a href="https://thenounproject.com/localdomain/collection/memes/?oq=meme&amp;amp;cidx=0&amp;amp;i=105269"&gt;this one&lt;/a&gt; by &lt;a href="https://thenounproject.com/localdomain/"&gt;Gareth&lt;/a&gt; - simply download the icon as an SVG. Once it's downloaded, locate the file and drag it onto the Glypter grid in the desired location. After a short pause while the file is uploaded to Glypter and processed, it'll appear in the grid slot you selected; here I've added the icon to the 'A':&lt;/p&gt;
&lt;img src="/Content/UsingSVGInUWP/DraggedIntoGlyphter.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Glyphter custom font"&gt;
&lt;p&gt;Repeat this for all the icons you want to use - I'll just stick with the one icon for now - then download the font by clicking the font download button (the 'down arrow' in the 'FONT' button). This will compile all your assets into a zip file containing the font (in &lt;a href="https://en.wikipedia.org/wiki/TrueType"&gt;'.ttf'&lt;/a&gt; and &lt;a href="https://en.wikipedia.org/wiki/Web_Open_Font_Format"&gt;'.woff'&lt;/a&gt; formats), svg and css assets. We're only interested in the '.ttf' file so extract it from the zip file and copy it to the 'Assets' folder of your UWP app.&lt;/p&gt;
&lt;p&gt;From within VisualStudio - or better yet, Blend - add the '.ttf' file to the project, ensuring it's 'Build Action' is set to 'Content' and 'Copy to Output Directory' set to 'Do not copy' as shown below:&lt;/p&gt;
&lt;img src="/Content/UsingSVGInUWP/BlendWithGlyphterFont.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Custom font added to project in Blend"&gt;
&lt;p&gt;With this in place, when you drop a TextBlock on a page, you should be able to select your embedded font from the Font combobox as shown below:&lt;/p&gt;
&lt;img src="/Content/UsingSVGInUWP/SelectFont.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Custom font selection in Blend"&gt;
&lt;p&gt;The rest, as they say, is history. In a few minutes you too can use the following XAML:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;&amp;lt;Grid&amp;gt;
    &amp;lt;StackPanel HorizontalAlignment="Center" VerticalAlignment="Center"&amp;gt;
        &amp;lt;TextBlock Text="SVG in UWP EZ!" HorizontalAlignment="Center" FontFamily="Impact" Margin="10"/&amp;gt;
        &amp;lt;TextBlock Text="A" FontFamily="ms-appx:/Assets/Glyphter.ttf#Glyphter" FontSize="96" HorizontalAlignment="Center"/&amp;gt;
        &amp;lt;TextBlock Text="Y U NO USE!" HorizontalAlignment="Center" FontFamily="Impact"/&amp;gt;
    &amp;lt;/StackPanel&amp;gt;
&amp;lt;/Grid&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: There seems to be an issue/inconsistency with the FontFamily value created when using the XAML designer to select your custom font. Sometimes, but not always, the designer will fail to add the "ms-appx" protocol to the FontFamily property value which, while it has no effect at design time, will prevent the app from locating the custom font at runtime. You should there ensure this value is present before deploying your app.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To create this amazing UI:&lt;/p&gt;
&lt;img src="/Content/UsingSVGInUWP/SVGInUWPEZ.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="SVG in UWP EZ! Y U NO USE!"&gt;
&lt;p&gt;Enjoy.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;There are &lt;a href="http://stackoverflow.com/a/3528493/628821"&gt;many&lt;/a&gt; (&lt;a href="http://stackoverflow.com/a/22107360/628821"&gt;many&lt;/a&gt;, &lt;a href="http://blogs.u2u.be/diederik/post/2012/07/26/Transforming-SVG-graphics-to-XAML-Metro-Icons.aspx"&gt;many&lt;/a&gt;) ways to use SVG assets as icons in UWP / XAML apps, most requiring some form of DataTemplate or UserControl. While these approaches work &lt;em&gt;ok&lt;/em&gt; they're normally a pain to author and use, often requiring custom converters to be written if the asset is to be used via any form of data binding. Here I present an extremely flexible way of using these assets that requires nothing more than drag-and-drop.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ToddlerBoxTopsTenThousandUsers" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/y3mVAxtKFjUEGk7Hdhzjl4UZ2INnFdBbw9K-tnYZ8DYoJ-VoKxpAN6w8Ng0DFTYdSxpHY6IvL5-VwJpLkQl6qWRmMQXSExLXopz5CFuSxIbyaMLrnL2Vy3yPZlISAAknXZdT4HwiZJ55zg2UtKwucBL88-xHh6rn5Mh97yzfRsCPjI%253Fwidth=1024&amp;height=574&amp;cropmode=none" />
		<id>http://ian.bebbs.co.uk/posts/ToddlerBoxTopsTenThousandUsers</id>
		<title>ToddlerBox Tops 10,000 Users!!</title>
		<updated>2016-12-20T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Really that got out of hand fast! I had no idea so many people would be interested in letting their toddler loose on their XBox controller. In fact, there have been many things that have surprised me about this app:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Acquisition rate has increased&lt;/p&gt;
&lt;p&gt;I kind of expected an initial burst of acquisitions then a slow tail off but this hasn't happened. As it's only been a little over a month since ToddlerBox was released to the store, I guess there's every possibility that it's still in the "burst" stage and theres just more interest in apps of this type. Well, here's hoping.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reviews have been extremely polarized&lt;/p&gt;
&lt;p&gt;Almost without exception, reviews have been 4-5 stars or 1 star. Also, while a couple of the 1 star ratings are to do with app functionality (it seems a couple of people have issues running even this basic UWP app) the overwhelming majority of 1 star ratings are due to peoples dislike of ads; because...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ads are a very risky business&lt;/p&gt;
&lt;p&gt;As with most parents, I am extremely cautious about what my toddler is exposed to. Therefore I was extremely cautious about adding advertising as a means of revenue to ToddlerBox, regardless of how small or out of the way they were.
After completing the Ad-Mediation questions in the Windows Store and being assured that ads would be both age rated and not "tracking", I felt a lot better about the idea and decided a small banner ad on the instructions screen would be pretty harmless. Furthermore, throughout the process of adding the banner, I didn't see a single advert I would be concerned about putting in front of my child; most were simple flashing inbox icons or the like.
However, after discussing ToddlerBox with a friend, he decided to install it on his Xbox and I was very upset to see that the ads being displayed were both more intrusive and more "click-baity" than any I had seen previously. I am now investigating ways to generate some revenue from the app but without upsetting parents.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The reviews shown in the store are not "all reviews"&lt;/p&gt;
&lt;p&gt;As the publisher of ToddlerBox, I get to see all reviews left about the app on the store. Due to all the previous points, the app is currently averaging about a 2.6 star rating across 50 odd reviews. However, when viewing the app in the Store on my friend's XBox, it was shown as having a 4.5 star rating from just 2 reviews. Now, while some of the reviews I can see are translated from foreign languages, most are in English and I'm therefore at a loss to explain why they're not being displayed when an XBox in the English local browses the store.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It's not just toddlers using ToddlerBox&lt;/p&gt;
&lt;p&gt;I've had more than one review stating how good this game is to play after consuming various illicit substances ;0P&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anyway, as described above, while acquisition rate has fluctuated on a daily basis, the overall trend in acquisition shows unexpected growth:&lt;/p&gt;
&lt;img src="https://bnljqq-dm2306.files.1drv.com/y3msqT1msmkJ_32Jewx8Ysuoys0lC35GCLY-aQPyJ9YhR75KMswOLcznSPGOOBGhhsMRb6qK3_xh_qr3h1Xh-vFwmSog1_HoOS-Isj1lMoFPpuV42oAwJi3A5JiY-ToAirVoZDnz2gQ7N6jUed82zW83IZ_qQcbqWGw1ekaNh4wjBU?width=660&amp;amp;height=252&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Acquisitions over App Lifetime"&gt;
&lt;p&gt;Daily usage also shows that a healthy number of acquisitions are being used regularly, with nearly 800 people using ToddlerBox nearly 1700 times just yesterday (19th December):&lt;/p&gt;
&lt;img src="https://bnlkqq-dm2306.files.1drv.com/y3mBC-i0nboWq0ibRyIcBhs1O2MnfOUx-OxTQZDUNHbh-eVRbfH0xP9-p9hLJqC82i1SBB5ZfpcfmTlvuZwMBD-Gt0BZZC-IvVCJOd1jzexDoiC-BV4LG7X2aOyOapkCKK6wM6WWffluiuD5MKKet6MfEIjTWNZMCpFx1FP13suiCY?width=660&amp;amp;height=249&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Daily usage"&gt;
&lt;p&gt;So, the Xmas break is almost upon us and I will be returning my attention to ToddlerBox (yes, despite the career break, I try to spend most of my time working on 'serious' projects or study). I have a number of new features in mind for it (including the #1 requested feature of "sound!!") and will be looking to try out a couple of more features of the awesome Win2D library. It's going to be a lot of fun (for me and my little girl) and will hopefully allow ToddlerBox to reach the next major (although admittedly arbitrary) milestone of 25,000 acquisitions!&lt;/p&gt;
&lt;p&gt;Watch this space...&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Really that got out of hand fast! I had no idea so many people would be interested in letting their toddler loose on their XBox controller. In fact, there have been many things that have surprised me about this app:&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/UWPCommunityToolkitv1_1" />
		<id>http://ian.bebbs.co.uk/posts/UWPCommunityToolkitv1_1</id>
		<title>UWP Community Toolkit v1.1 Released</title>
		<updated>2016-10-10T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Shortly after my blog post about &lt;a href="http://ian.bebbs.co.uk/posts/UsingHyperlinkInMVVM"&gt;Using a Hyperlink in MVVM&lt;/a&gt; a group of developers at Microsoft collated and released the &lt;a href="https://blogs.windows.com/buildingapps/2016/08/17/introducing-the-uwp-community-toolkit/#pRVgJbZbTBMHPyGG.97"&gt;UWP Community Toolkit&lt;/a&gt;. They were actively asking for contributions and, given the self contained nature of the Hyperlink extension, it seemed like a natural fit for the toolkit so I decided to try contributing it via pull request.&lt;/p&gt;
&lt;p&gt;The toolkit's contribution guidelines and conventions closely matched my own coding style so I had to change very little of the code in my article but did have to add XML summary blocks to each public class and members. With that done I could add the class to the &lt;a href="https://github.com/ibebbs/UWPCommunityToolkit/tree/dev/Microsoft.Toolkit.Uwp/Helpers"&gt;Helpers folder on the dev branch of my fork of the toolkit&lt;/a&gt; and &lt;a href="https://github.com/Microsoft/UWPCommunityToolkit/pull/226"&gt;issue a pull request&lt;/a&gt;. I was also asked to produce some documentation and a sample for the class which was then pulled into the document repo.&lt;/p&gt;
&lt;p&gt;The rest, as they say, is history. &lt;a href="https://blogs.windows.com/buildingapps/2016/10/05/announcing-uwp-community-toolkit-1-1/#1QBL3lQjtLbY537i.97"&gt;Version 1.1 of the toolkit released&lt;/a&gt; with yours truly in the &lt;a href="https://github.com/Microsoft/UWPCommunityToolkit/releases/"&gt;list of contributors&lt;/a&gt;. It's a small contribution but I really think the toolkit is a promising project and absolutely intend to contribute further in the near future.&lt;/p&gt;
&lt;p&gt;In the mean time, well done to all the maintainers of, and contributors to, the toolkit on this important milestone.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Shortly after my blog post about &lt;a href="http://ian.bebbs.co.uk/posts/UsingHyperlinkInMVVM"&gt;Using a Hyperlink in MVVM&lt;/a&gt; a group of developers at Microsoft collated and released the &lt;a href="https://blogs.windows.com/buildingapps/2016/08/17/introducing-the-uwp-community-toolkit/#pRVgJbZbTBMHPyGG.97"&gt;UWP Community Toolkit&lt;/a&gt;. They were actively asking for contributions and, given the self contained nature of the Hyperlink extension, it seemed like a natural fit for the toolkit so I decided to try contributing it via pull request.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ARipStoringTime" />
		<id>http://ian.bebbs.co.uk/posts/ARipStoringTime</id>
		<title>A Rip Storing Time</title>
		<updated>2016-12-07T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;From a youth of misspent money, I have a moderately large DVD collection. Some 600 movies in half a dozen DVD racks take a disproportionately large space in my dining room. This year, my partner and I  decided to host Xmas dinner for the family, meaning a dining table that could host a dozen was in order and... well, you can see where this is heading. The DVDs had to go.&lt;/p&gt;
&lt;p&gt;Now, even though I barely watch them anymore, there are still a couple of amazing films in my collection that aren't available from the (far too changeable) online streaming services and, as such, I was reluctant to simply banish them all to the attic. Instead, I decided to undertake the monumental task of ripping them all to HDD before boxing them all up.&lt;/p&gt;
&lt;h2&gt;Software&lt;/h2&gt;
&lt;p&gt;There are innumerable software solutions for ripping and transcoding DVD's... if you want to do one at a time. As you can probably appreciate, this wasn't a possibility for me or I'd still be ripping discs well into the New Year (not to mention through the Xmas dinner I'm actually doing this for). So a more, 'roll-your-own' solution was required.&lt;/p&gt;
&lt;p&gt;A bit of googling revealed &lt;a href="http://lifehacker.com/autorip-rips-dvds-and-blu-rays-as-soon-as-you-insert-th-477274988"&gt;this post&lt;/a&gt; which described a mechanism for ripping discs as soon as you put them into the drive. While it was still targetting people who wanted to rip discs one at a time, it did point me towards the two pieces of software I did ultimately use:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.makemkv.com/"&gt;MakeMKV&lt;/a&gt; - for ripping the entire contents of the DVD and,&lt;/li&gt;
&lt;li&gt;&lt;a href="https://handbrake.fr/"&gt;Handbrake&lt;/a&gt; - for transcoding source files into compressed H.264 format.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Both these utilities come with CLI interfaces (details &lt;a href="http://www.makemkv.com/developers/"&gt;here&lt;/a&gt; and &lt;a href="https://handbrake.fr/docs/en/latest/cli/cli-options.html"&gt;here&lt;/a&gt; respectively) allowing them to be automated. Furthermore, MakeMKV can run multiple instances allowing you to do your drive ripping (the long slow process) in parallel from multiple drives.&lt;/p&gt;
&lt;h2&gt;Hardware&lt;/h2&gt;
&lt;p&gt;I'd been intending to buy a new server for my home to be used as a Docker host because my current server is so old it simply doesn't support the required virtualization instructions. I'd had my eye on the &lt;a href="http://www.ebuyer.com/714837-dell-poweredge-t20-3708-xeon-e3-1225v3-3-2-ghz-4gb-ram-1tb-hdd-tower-t20-3708"&gt;Dell T20 Xeon E3&lt;/a&gt; but was waiting for it to drop back below the £200 (after cashback) mark. However, realising I could (temporarily) use it as a DVD ripping machine, I decided to bite the bullet and bought the T20 with an additional 4Gb of RAM for £324 (less 2% Quidco and £80 cashback).&lt;/p&gt;
&lt;p&gt;It arrived a couple of days later and I must say I'm impressed. It's a lot of machine for the money, well built, has a copious number of USB sockets and is surprisingly fast. I installed Windows Server 2016 on this as it's the OS I intend to use for the Docker host and I thought it'd be a good practice run.&lt;/p&gt;
&lt;p&gt;To this I added the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;2 x 1Tb internal HDDs - configured as RAID-0 providing a fast destination for the drive rips.&lt;/li&gt;
&lt;li&gt;4 x USB DVD-ROM drives - drives for ripping from - a couple I already had plus a &lt;a href="https://www.amazon.co.uk/dp/B01B8U7JW2/ref=pe_385721_51767431_TE_dp_1"&gt;couple from Amazon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;1 x 4Tb external USB HDD - destination for transcoded rips&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;All in, it's quite a monster.&lt;/p&gt;
&lt;h2&gt;Putting it together&lt;/h2&gt;
&lt;p&gt;Unlike most of the out of the box software I'd found, I needed software that would do the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Wait for a disc to be inserted in one of the drives&lt;/li&gt;
&lt;li&gt;Determine that the disc is actually a DVD video&lt;/li&gt;
&lt;li&gt;Rip the disc to a destination folder based on the volume label of the DVD&lt;/li&gt;
&lt;li&gt;Allow up to four concurrent rip operations&lt;/li&gt;
&lt;li&gt;Queue ripped folders for transcoding allowing only a single transcoding operation to run at a time.&lt;/li&gt;
&lt;li&gt;Save the transcoded movie to the external drive.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;While there may be software out there that does this, a couple of evening's googling didn't reveal it so, I decided a DIY job was in order. Besides, I thought the multiple producer/single consumer nature of the multiple rips/single transcoding would be a great fit for playing with &lt;a href="https://msdn.microsoft.com/en-us/library/hh228603%28v=vs.110%29.aspx?f=255&amp;amp;MSPPError=-2147217396"&gt;Dataflow&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In relatively short order, I created &lt;a href="https://github.com/ibebbs/DriveRipper"&gt;DriveRipper&lt;/a&gt;... and it's worked pretty well. I've been happily ripping four DVD's at a time, averaging around 12-15 DVD's an hour, with only a few small problems:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Because Dataflow enforces order of tasks throughout the pipeline (one if it's biggest strengths!) a slow rip or drive can hold up transcoding such that a queue builds up. Not a massive problem as the encoding process on the Xeon is actually pretty rapid (averaging 450fps) so it catches up with the relatively slow ripping process (about 20 minutes per disc) with ease.&lt;/li&gt;
&lt;li&gt;Some DVD's - particularly the old ones - are single sided or low quality or lack additional material or all of the above. This means that the contents of the disc is less than the 4.2Gb cut off I used for determining that a particular disc is likely to be a DVD. This can be sorted with a simple code change but I dediced to put these discs to one side for now and come back to them.&lt;/li&gt;
&lt;li&gt;Some DVD's - again, particularly the olds ones - don't have a rational volume name; using terms like 'e19245' or, even worse, 'DVDVideo'. This has meant that, after the transcoding is complete, I need to rename the folders so that the contents don't get overwritten by a subsequent rip.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So far I'm 150 DVD's through and just been told that the new dining room furniture is being delivered Monday.&lt;/p&gt;
&lt;p&gt;Rip little machine, rip like wind!! Oh, wait...&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;From a youth of misspent money, I have a moderately large DVD collection. Some 600 movies in half a dozen DVD racks take a disproportionately large space in my dining room. This year, my partner and I  decided to host Xmas dinner for the family, meaning a dining table that could host a dozen was in order and... well, you can see where this is heading. The DVDs had to go.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/HomeNetworkMonitoring-PartIV" />
		<id>http://ian.bebbs.co.uk/posts/HomeNetworkMonitoring-PartIV</id>
		<title>Home Network Monitoring - Part IV</title>
		<updated>2016-04-16T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;In the last post, I used the Logstash &lt;code&gt;dns&lt;/code&gt; filter to translate remote server IP addresses into recognisable domain names. In this post, I will look to perform a similar operation for local IP addresses in order to translate them into recognisable device names.&lt;/p&gt;
&lt;h1&gt;translating local ip addresses to device names&lt;/h1&gt;
&lt;p&gt;While in the last post we could use the &lt;code&gt;dns&lt;/code&gt; filter to perform a reverse dns lookup to resolve a remote domain name for an IP address, this is not possible with local IP addresses. Fortunately, I have two key tools that I can use to perform a similar operation:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;While my router behaves as a DHCP server, it has a feature that allows it to always allocate the same IP address to a given MAC address. Therefore I know a given device will always have a specific IP address.&lt;/li&gt;
&lt;li&gt;Logstash provides the &lt;code&gt;translate&lt;/code&gt; filter which allows you to map from one value to another via a dictionary lookup.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;With my routers "Bind IP to MAC" function set up, I will author a new &lt;code&gt;yaml&lt;/code&gt; file that meets the specifications outlined in the &lt;code&gt;translate&lt;/code&gt; filter &lt;a href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-translate.html#plugins-filters-translate-destination"&gt;documentation&lt;/a&gt;. It looks like this:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;192.168.1.3: TPLink Range Extender
192.168.1.9: Ricoh Printer
192.168.1.10: Server A
192.168.1.21: PC A
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I'll name this file &lt;code&gt;IPLookup.yaml&lt;/code&gt; and save it besides the &lt;code&gt;syslog.config&lt;/code&gt; file. Next I need to add additional filters to &lt;code&gt;syslog.config&lt;/code&gt; which now looks as follows:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;input {
  tcp {
    port =&amp;gt; 5000
    type =&amp;gt; syslog
  }
  udp {
    port =&amp;gt; 5000
    type =&amp;gt; syslog
  }
}

filter {
    grok {
        match =&amp;gt; [ "message", "&amp;lt;%{POSINT:syslog_pri}&amp;gt;%{SYSLOGTIMESTAMP:syslog_timestamp} Vigor\: Local User \(MAC=%{MAC:source_mac}\): %{IP:source_address}(?::%{POSINT:source_port})? -&amp;gt; %{IP:destination_address}(?::%{POSINT:destination_port})? \((?&amp;lt;protocol&amp;gt;TCP|UDP)\)" ]
        add_tag =&amp;gt; "access"
    }
    if "access" in [tags] {
        mutate {
            add_field =&amp;gt; {
              "source_host" =&amp;gt; "%{[source_address]}"
              "destination_host" =&amp;gt; "%{[destination_address]}"
            }
        }
        dns {
            reverse =&amp;gt; [ "destination_host" ]
            action =&amp;gt; "replace"
            nameserver =&amp;gt; "192.168.1.1"
        }
        translate {
            destination =&amp;gt; "source_host"
            dictionary_path =&amp;gt; "config\IPLookup.yaml"
            fallback =&amp;gt; "%{source_address}"
            field =&amp;gt; "source_address"      
            override =&amp;gt; true   
        }
    }
}

output {
  elasticsearch {
    hosts =&amp;gt; ["192.168.1.30:9200"]
    index =&amp;gt; "syslog-%{+YYYY.MM.dd}"
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note the &lt;code&gt;translate&lt;/code&gt; filter where I lookup the &lt;code&gt;source_address&lt;/code&gt; field in the &lt;code&gt;IPLookup.yaml&lt;/code&gt; file and put the result in the &lt;code&gt;source_host&lt;/code&gt; field. If not found, the &lt;code&gt;fallback&lt;/code&gt; value instructs the filter to output the &lt;code&gt;source_address&lt;/code&gt; into the &lt;code&gt;source_host&lt;/code&gt; field. The &lt;code&gt;override&lt;/code&gt; value is set to true as the &lt;code&gt;source_host&lt;/code&gt; field is added in the &lt;code&gt;mutate&lt;/code&gt; filter above as a fail-safe.&lt;/p&gt;
&lt;p&gt;With the changes to configuration in place, I once again restart Logstash. Once a syslog message has been received, I get the mapping from ElasticSearch and update it to mark the &lt;code&gt;local_host&lt;/code&gt; field as &lt;code&gt;not_analyzed&lt;/code&gt;. Then, in Kibana, I refresh the field list for the 'syslog-*' index, add 'local_host' to the 'Syslog Messages' saved search, load 'Access By Local Address' visualization and modify it to use 'local_host' rather than the 'local_address' field and save it as 'Access By Local Host'. Finally, I replace this visualization on my dashboard and get the following:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-DashboardWithAccessByLocalHost.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Dashboard With Access By Local Host"&gt;
&lt;h1&gt;further mappings&lt;/h1&gt;
&lt;p&gt;Now I've got the translation of local IP addresses to names working, I'm going to add a few more translations for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IP Address to Operating System&lt;/li&gt;
&lt;li&gt;IP Address to Wired/WiFi connection&lt;/li&gt;
&lt;li&gt;TCP and UDP Port to Protocol (using a &lt;a href="http://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml"&gt;CSV from IANA&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With these in place, the dashboard is starting to come together:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-DashboardWithLocalPortAndOsLookups.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Dashboard With Local Port And Os Lookups"&gt;
&lt;h1&gt;summary&lt;/h1&gt;
&lt;p&gt;In this post, I showed how to display local device names rather than IP addresses by using LogStash's &lt;code&gt;translate&lt;/code&gt; filter. I then used this filter to provide further information about local device and protocols.&lt;/p&gt;
&lt;p&gt;In the next post, I'll show how to add some variation to the dashboard by mapping destination locations.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;In the last post, I used the Logstash &lt;code&gt;dns&lt;/code&gt; filter to translate remote server IP addresses into recognisable domain names. In this post, I will look to perform a similar operation for local IP addresses in order to translate them into recognisable device names.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ToddlerBoxHitsOneThousandUsers" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/ibebbs/ToddlerBox/raw/master/store/Screenshots/Xbox/Donkeys" />
		<id>http://ian.bebbs.co.uk/posts/ToddlerBoxHitsOneThousandUsers</id>
		<title>ToddlerBox Hits 1000 Users</title>
		<updated>2016-11-29T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Wow!&lt;/p&gt;
&lt;p&gt;ToddlerBox has been in the store less than two weeks and, despite very little in the way of promotion (my other half sent out a call on Facebook for beta users), it has somehow accumulated over a thousand installs!&lt;/p&gt;
&lt;p&gt;Acquisitions have seen steady growth across a (more or less) expected demographic as can be seen below:&lt;/p&gt;
&lt;img src="https://zphbkg.dm2302.livefilestore.com/y3mxlql02_eOqhCIiHNom5uhtzjCe_ZMvbgIGPcUuLMbuHi_cmFRtGpAIb2CVV_k_HAO6v_3BB7AfILc428eEqv96IXFv3b-Vwws3CvDkXxj9uTiBtz9C2JTxwcKIPHpbhXb1LSnjCUDMosCL5GbtEQN9PsjnFM4iq6n2cCuMcSAVo?width=660&amp;amp;height=145&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Acquisitions over App Lifetime"&gt;
&lt;img src="https://0ohtkg.dm2302.livefilestore.com/y3mJ-gCk99nTK8OuY5w0Ws1xjrRZiFLkxZMpJ-0LWENyYp0q9h-tnT73xZC4_a-hrF4rbBao7kp7vY7jrdgON0ukq9qib82QSM6vNHTvQwvTUYPfyFnfOviJ0HWYe_JRsunQODVyvcmOh0zjjzDk1LXL13blrvuAloFWFlFIFygSSQ?width=660&amp;amp;height=235&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Acquisitions by Demographic"&gt;
&lt;p&gt;In addition to the number of users, the number of countries it is being used in has been really surprising. Sure, there's no localization concerns so there's no reason it &lt;em&gt;wouldn't&lt;/em&gt; be used in non-English speaking countries but I'm genuinely pleased to see it being used all over the world; from USA to Saudi Arabia and from Canada to China! Here's the current breakdown of usage:&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Country&lt;/th&gt;
      &lt;th&gt;Sessions&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;&lt;td&gt;United States&lt;/td&gt;&lt;td&gt;910&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;United Kingdom&lt;/td&gt;&lt;td&gt;311&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Canada&lt;/td&gt;&lt;td&gt;110&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Australia&lt;/td&gt;&lt;td&gt;42&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Saudi Arabia&lt;/td&gt;&lt;td&gt;33&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;China &lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Brazil&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Mexico&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Germany&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Netherlands&lt;/td&gt;&lt;td&gt;14&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;France&lt;/td&gt;&lt;td&gt;13&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;New Zealand&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Ireland&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Latvia&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Hungary&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Sweden&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Russia&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Poland&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Slovakia &lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;South Africa&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Austria&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Belgium&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Switzerland&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Spain &lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Czech Republic&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Guam&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Puerto Rico&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Chile &lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Denmark&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Romania&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Colombia &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Italy &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Libya &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Norway&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Trinidad and Tobago&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;United Arab Emirates &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Unknown&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Given the somewhat unexpected success of ToddlerBox I am planning to release a number of future versions with various enhancements and new interactions/visualizations for toddler's to mash away at.&lt;/p&gt;
&lt;p&gt;All good fun :0D&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Wow!&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/EndOfStreak" />
		<id>http://ian.bebbs.co.uk/posts/EndOfStreak</id>
		<title>Breaking News - Forgot to commit</title>
		<updated>2015-12-07T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;After 41 days of continuous commits to Github, yesterday I forgot. What's really annoying is that I actually spent a long time working yesterday but found myself battling a stupid limitation of VisualStates in UWP apps (blog post incoming) and didn't have anything finished.&lt;/p&gt;
&lt;p&gt;Ho-hum. 41 days was a pretty good streak and it was inevitably going to end over the Xmas period. New Year's resolution: Beat it!&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;After 41 days of continuous commits to Github, yesterday I forgot. What's really annoying is that I actually spent a long time working yesterday but found myself battling a stupid limitation of VisualStates in UWP apps (blog post incoming) and didn't have anything finished.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/OnTheImportanceOfDoingSomething" />
		<id>http://ian.bebbs.co.uk/posts/OnTheImportanceOfDoingSomething</id>
		<title>On The Importance of Doing Something</title>
		<updated>2015-11-16T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;I've just become a father. It's amazing and I'm loving every day, from waking up in the morning and being greeted by huge grin from my little girl to putting her to bed in the evening when she can barely keep her eyes open. My baby instantaneously became priority number one and has left little time for other passions like home programming projects.&lt;/p&gt;
&lt;p&gt;Yet, simultaneously, I have found the time since my baby was born to be some of the most productive time of my life. Since she her birth, I've spent every hour possible with her, worked regular hours - and been productive during those hours - at my day job, got an unexpectedly healthy amount of sleep and still managed to complete a significant amount of work on personal projects as well as creating and writing this blog.&lt;/p&gt;
&lt;p&gt;While reflecting on why this might be, I came up with one simple, inescapable conclusion: &lt;a href="https://github.com/ibebbs" title="ibebbs Github Profile"&gt;my Github profile&lt;/a&gt;. More specifically the "Current Streak" of contributions. You see, I am a sucker for gamification and seeing that "Current Streak" increase each day is remarkably rewarding. As such, I am finding time each day - no matter how little - to do &lt;em&gt;something&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Previously, I'd get home in the evening, think about the projects I had to work on, realise that there probably wouldn't be enough time to make significant progress and procrastinate about it until I had more time available to "get things done properly" - which was happening increasingly rarely. Now, instead of focusing on some distant goal, I simply think about finding &lt;em&gt;something&lt;/em&gt; I can do and publish to Github in whatever time I have available. It really doesn't matter what it is, as long as I get the &lt;a href="https://www.microsoft.com/surface/en-gb/devices/surface-pro-4" title="Microsoft Surface Pro 4"&gt;Surface&lt;/a&gt; out and start. Almost always, once I've started something, I get engrossed in it and am able to spend way more time than I thought might be available on it.&lt;/p&gt;
&lt;p&gt;For example, I'm writing this post from the sofa in my front room having spent a wonderful evening with my other half and little girl. Not having had time to make a commit today, I decided not to get an early night and instead tucked them into their respective beds before heading back down stairs to get a start on this post. Initially I had planned simply jot down a few ideas and possibly write a sentence or two before committing to Github and retiring for the evening. Yet here I am still writing after several paragraphs (and &lt;a href="https://music.microsoft.com/album/london-grammar/if-you-wait-deluxe-edition/bz.EE99E107-0100-11DB-89CA-0019B92A3933?action=play" title="London Grammar on Groove Music"&gt;one very enjoyable album&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;I probably won't finish tonight, and definitely won't publish this post until I've had time to re-read and edit it. But I've got my commit for the day and made an unexpected amount of progress on a blog post about making an unexpected amount of progress. In short, I got &lt;em&gt;something&lt;/em&gt; done and that feels good.&lt;/p&gt;
&lt;p&gt;Night!&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;I've just become a father. It's amazing and I'm loving every day, from waking up in the morning and being greeted by huge grin from my little girl to putting her to bed in the evening when she can barely keep her eyes open. My baby instantaneously became priority number one and has left little time for other passions like home programming projects.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ReactiveBehaviors" />
		<id>http://ian.bebbs.co.uk/posts/ReactiveBehaviors</id>
		<title>Reactive Behaviors</title>
		<updated>2015-11-14T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;I am a firm believer in the notion "&lt;a href="http://slides.com/robwormald/everything-is-a-stream#/" title="Everything is a stream - Rob Wormald"&gt;Everything&lt;/a&gt; &lt;a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" title="The introduction to Reactive Programming you've been missing - andrestaltz"&gt;is&lt;/a&gt; &lt;a href="http://weareadaptive.com/blog/2014/05/05/everything-is-a-stream/" title="Reactive Trader 2: Everything is a Stream - Matt Barrett"&gt;a&lt;/a&gt; &lt;a href="http://colintheshots.com/blog/?p=85" title="Be Reactive - Colintheshots"&gt;stream&lt;/a&gt;". After all, at it's root what is a computer program but a stream of instructions toggling the state of transistors on the CPU die. As such, I have been gradually moving away from traditional imperative coding and embracing a declarative approach to implementing behavior.&lt;/p&gt;
&lt;p&gt;Starting with the UI, my &lt;a href="https://github.com/ibebbs/Caliburn.Micro.Reactive.Extensions" title="Caliburn.Micro.Reactive.Extensions Github Repository"&gt;Reactive Extensions for Caliburn Micro&lt;/a&gt; allowed me to escape the scourge of state variables and property change non-sense and have read-model changes update the view or user input changes update the view model in a declarative fashion.&lt;/p&gt;
&lt;p&gt;With this in place, I sort of stumbled onto a pattern I quite liked and gradually developed into a pattern I am now referring to as "Reactive Behaviors". To explain this pattern, lets take a basic example of a log in page for an application.&lt;/p&gt;
&lt;p&gt;Traditionally, in WPF MVVM parlance, the view model for the log in page might look something like this:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;public class LogInPageViewModel : Screen, ILogInPageViewModel
{
    private readonly IAuthenticationService _authenticationService;

    private readonly DelegateCommand _logInCommand;
    private readonly DelegateCommand _cancelCommand;

    private CancellationTokenSource _cts;

    private string _username;
    private string _password;
    private string _error;

    public LogInPageViewModel(IAuthenticationService authenticationService)
    {
        _authenticationService = authenticationService;

        _cts = new CancellationTokenSource();
        _logInCommand = new DelegateCommand(CanLogIn, PerformLogIn);
        _cancelCommand = new DelegateCommand(_ =&amp;gt; true, CancelLogIn);
    }

    public void Dispose()
    {
        if (_cts != null)
        {
            _cts.Cancel();
            _cts.Dispose();
            _cts = null;
        }
    }

    private bool CanLogIn(object parameter)
    {
        return (!string.IsNullOrWhiteSpace(_username) &amp;amp;&amp;amp; !string.IsNullOrWhiteSpace(_password));
    }

    private async void PerformLogIn(object parameter)
    {
        AuthenticationResponse response = await _authenticationService.AuthenticateAsync(new AuthenticationRequest(_username, _password), _cts.Token);

        if (response.Successful)
        {
            TryClose(true);
        }
        else
        {
            Error = response.Error.Message;
        }
    }

    private void CancelLogIn(object parameter)
    {
        TryClose(false);
    }

    public string Username
    {
        get { return _username; }
        set
        {
            if (!string.Equals(value, _username))
            {
                _username = value;

                NotifyOfPropertyChange(() =&amp;gt; Username);

                _logInCommand.RaiseCanExecuteChanged();
            }
        }
    }

    public string Password
    {
        get { return _password; }
        set
        {
            if (!string.Equals(value, _password))
            {
                _password = value;

                NotifyOfPropertyChange(() =&amp;gt; Password);

                _logInCommand.RaiseCanExecuteChanged();
            }
        }
    }

    public string Error
    {
        get { return _error; }
        private set
        {
            if (!string.Equals(value, _error))
            {
                _error = value;

                NotifyOfPropertyChange(() =&amp;gt; Error);
            }
        }
    }

    public ICommand LogInCommand
    {
        get { return _logInCommand; }
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As we can see, we have a bunch of state variables that are updated from property setters and when certain state variables are updated we need to perform specific actions. Now, can you quickly identify all the behaviors of this view model?&lt;/p&gt;
&lt;p&gt;Well, it's not a complicated view model so it'll probably just take a few minutes to work out the behaviors. To summarize, they are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When the user has entered a value in both the user name and password text boxes then enable the "Log in" button&lt;/li&gt;
&lt;li&gt;When the user clicks the "Log in" button, asynchronously attempt to log in with the supplied credentials.&lt;/li&gt;
&lt;li&gt;When a successful login attempt is made, close the dialog&lt;/li&gt;
&lt;li&gt;When an unsuccessful login attempt is made, display an error&lt;/li&gt;
&lt;li&gt;When the user clicks the "Cancel" button, close the dialog&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But that took a few minutes of scanning back and forth over the class right? Also, while we have been good developers and applied DRY by centralizing the logic to determine when the log in button should be enabled, in order to know under what circumstances the logic will be called, we need to perform a "Find References" on the method. The cause and effect of this behavior are &lt;strong&gt;disassociated&lt;/strong&gt;. In fact, in this instance it's event worse, as this method is only passed to the &lt;code&gt;DelegateCommand&lt;/code&gt; instance, we have to &lt;em&gt;know&lt;/em&gt; that the &lt;code&gt;DelegateCommand&lt;/code&gt; will invoke this method everytime the &lt;code&gt;RaiseCanExecuteChanged&lt;/code&gt; is called &lt;em&gt;and then&lt;/em&gt; perform another "Find References" to find all the locations &lt;code&gt;RaiseCanExecuteChanged&lt;/code&gt; is called. Phew!&lt;/p&gt;
&lt;p&gt;Wouldn't it be better if we could somehow centralize this logic in discreet methods with names that describe exactly the behavior of the class? Ladies and gentlemen, I present to you the same class re-written using "Reactive Behaviors":&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;public class LogInPageViewModel : Screen, ILogInPageViewModel
{
    private readonly IAuthenticationService _authenticationService;

    private ObservableProperty&amp;lt;string&amp;gt; _username;
    private ObservableProperty&amp;lt;string&amp;gt; _password;
    private ObservableProperty&amp;lt;string&amp;gt; _error;
    private ObservableCommand _logInCommand;
    private ObservableCommand _cancelCommand;

    private Subject&amp;lt;AuthenticationResponse&amp;gt; _logInResponse;

    private IDisposable _behaviors;

    public LogInPageViewModel(IAuthenticationService authenticationService)
    {
        _authenticationService = authenticationService;

        _username = new ObservableProperty&amp;lt;string&amp;gt;(this, () =&amp;gt; Username);
        _password = new ObservableProperty&amp;lt;string&amp;gt;(this, () =&amp;gt; Password);
        _error = new ObservableProperty&amp;lt;string&amp;gt;(this, () =&amp;gt; Error);
        _logInCommand = new ObservableCommand();
        _cancelCommand = new ObservableCommand();

        _logInResponse = new Subject&amp;lt;AuthenticationResponse&amp;gt;();

        _behaviors = new CompositeDisposable(
            WhenTheUserHasEnteredBothUsernameAndPasswordThenEnableLogInButton(),
            WhenTheUserClicksTheLogInButtonAttemptToLogIn(),
            WhenASuccessfulLogInAttemptIsMadeCloseTheDialog(),
            WhenAnUnsuccessfulLogInAttemptIsMadeDisplayTheError(),
            WhenTheUserClicksTheCancelButtonCloseTheDialog()
        );
    }

    public void Dispose()
    {
        if (_behaviors != null)
        {
            _behaviors.Dispose();
            _behaviors = null;
        }
    }

    private IDisposable WhenTheUserHasEnteredBothUsernameAndPasswordThenEnableLogInButton()
    {
        return Observable
            .CombineLatest(_username, _password, (username, password) =&amp;gt; !string.IsNullOrWhiteSpace(username) &amp;amp;&amp;amp; !string.IsNullOrWhiteSpace(password))
            .Subscribe(_logInCommand);
    }

    private IDisposable WhenTheUserClicksTheLogInButtonAttemptToLogIn()
    {
        return _logInCommand
            .SelectMany(_ =&amp;gt; Observable.CombineLatest(_username, _password, (username, password) =&amp;gt; new AuthenticationRequest(username, password)).Take(1))
            .SelectMany(request =&amp;gt; _authenticationService.AuthenticateAsync(request))
            .Subscribe(_logInResponse);
    }

    private IDisposable WhenASuccessfulLogInAttemptIsMadeCloseTheDialog()
    {
        return _logInResponse
            .Where(response =&amp;gt; response.Successful)
            .Subscribe(response =&amp;gt; TryClose(true));
    }

    private IDisposable WhenAnUnsuccessfulLogInAttemptIsMadeDisplayTheError()
    {
        return _logInResponse
            .Where(response =&amp;gt; !response.Successful)
            .Select(response =&amp;gt; response.Error.Message)
            .Subscribe(_error);
    }

    private IDisposable WhenTheUserClicksTheCancelButtonCloseTheDialog()
    {
        return _cancelCommand
            .Subscribe(_ =&amp;gt; TryClose(false));
    }

    public string Username
    {
        get { return _username.Get(); }
        set { _username.Set(value); }
    }

    public string Password
    {
        get { return _password.Get(); }
        set { _password.Set(value); }
    }

    public string Error
    {
        get { return _error.Get(); }
    }

    public ICommand LogInCommand
    {
        get { return _logInCommand; }
    }

    public ICommand CancelCommand
    {
        get { return _cancelCommand; }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As shown, the constructor instantiates a &lt;code&gt;CompositeDisposable&lt;/code&gt; containing calls to methods implementing the behavior of the class and which return an &lt;code&gt;IDisposable&lt;/code&gt; that, when disposed, will tear down the behavior. Each method is named after exactly one desired behavior and comprises a subscription to all the required inputs for the behavior, a series of projections which implement the behavior and, finally, a subscription which surfaces the result of the behavior.&lt;/p&gt;
&lt;p&gt;Lets take the example of the &lt;code&gt;WhenTheUserHasEnteredBothUsernameAndPasswordThenEnableLogInButton&lt;/code&gt; method. Here we subscribe to both the &lt;code&gt;_username&lt;/code&gt; and &lt;code&gt;_password&lt;/code&gt; properties, and use a selector function to return a boolean indicating whether they're both populated. The &lt;code&gt;_logInCommand&lt;/code&gt; subscribes to the result which will enable or disable the command (by raising CanExecuteChanged events) appropriately.&lt;/p&gt;
&lt;p&gt;Furthermore, by leveraging Observables we become thread safe. It doesn't matter on which thread the source properties are updated from, the behavior will be performed and output applied without the risk of missing values or race-conditions between updates to the appropriate inputs.&lt;/p&gt;
&lt;p&gt;With behaviors implemented in this fashion, behavioral unit testing becomes incredibly obvious. Simply copy the behavior method names into your test fixture and assert that it performs as expected.&lt;/p&gt;
&lt;p&gt;I believe this pattern provides numerous benefits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Promotes behavior driven development and unit testing.&lt;/li&gt;
&lt;li&gt;Promotes functional and thread safe programming practises.&lt;/li&gt;
&lt;li&gt;Reduces the risk of (and if done well, can eliminate) side effects as specific behaviors are isolated in a single well named method.&lt;/li&gt;
&lt;li&gt;Stops 'code rot' as all behavior is encapsulated within specifically named methods. Want new behaviour? Add a new method. Don't want a specific behavior anymore? Just removed it. Want a specific behavior to change? Change the one method and know that you haven't broken anything else.&lt;/li&gt;
&lt;li&gt;Provides concise mechanisms for aggregating multiple inputs and promotes asynchronous processes to first-class status.&lt;/li&gt;
&lt;li&gt;Reduces the need for utility classes as data can be passed through the pipeline as strongly typed anonymous classes.&lt;/li&gt;
&lt;li&gt;Prevents memory leaks as all behaviors return a disposable that when disposed removes all subscriptions and disposed all managed resources.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While this example targets the UI and leverages Caliburn Micro with Reactive Extensions for projection to IObservable&lt;t&gt; instances (and property change notification), this pattern can be employed across any class which treats inputs and outputs as a stream.&lt;/t&gt;&lt;/p&gt;
&lt;p&gt;I have been employing this pattern very successfully across a variety of functional layers for quite some time now. I'd be really interested to hear your thoughts.&lt;/p&gt;
&lt;p&gt;Code for above examples available on &lt;a href="https://github.com/ibebbs/Blog.ReactiveBehaviors" title="ReactiveBehaviors Repository on Github"&gt;Github&lt;/a&gt;&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;I am a firm believer in the notion "&lt;a href="http://slides.com/robwormald/everything-is-a-stream#/" title="Everything is a stream - Rob Wormald"&gt;Everything&lt;/a&gt; &lt;a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" title="The introduction to Reactive Programming you've been missing - andrestaltz"&gt;is&lt;/a&gt; &lt;a href="http://weareadaptive.com/blog/2014/05/05/everything-is-a-stream/" title="Reactive Trader 2: Everything is a Stream - Matt Barrett"&gt;a&lt;/a&gt; &lt;a href="http://colintheshots.com/blog/?p=85" title="Be Reactive - Colintheshots"&gt;stream&lt;/a&gt;". After all, at it's root what is a computer program but a stream of instructions toggling the state of transistors on the CPU die. As such, I have been gradually moving away from traditional imperative coding and embracing a declarative approach to implementing behavior.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/IContributedAndAllIGot" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/y3mNzf5Sylp6SOZbv6t2Q_atZh0reZJW7RYL9EgdZ4V4aZSaf_8Sqe8UPzCEaq7t3RKQn5GX1DvkSWdsolooyOHZj9Ma389uQChI7uhzICOmFTm8aZaRBYS4jS0K8g07vYNjEJofO_Io8VnpaqgTRsLJwSIEMEzg1P1TOt9dbXzm6s%253Fwidth=2465&amp;height=1039&amp;cropmode=none" />
		<id>http://ian.bebbs.co.uk/posts/IContributedAndAllIGot</id>
		<title>I contributed and all I got...</title>
		<updated>2016-11-12T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;A while back, I contributed my &lt;a href="http://ian.bebbs.co.uk/posts/UsingHyperlinkInMVVM"&gt;HyperlinkExtensions&lt;/a&gt; to the &lt;a href="http://ian.bebbs.co.uk/posts/UWPCommunityToolkitv1_1"&gt;UWP Community Toolkit&lt;/a&gt;. This morning postman brought me a very pleasant surprise:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://orvy1q.dm2302.livefilestore.com/y3mcg6h9OGMl0tKB0ohOeyyBSVI-CwtcQF9XPWLXHBQI1inTRaPd9_k1jeoOpTIga1ZVnezoWRp34VnQuSmMduXhLro6OeJ4Unrgxe3PVOAh2kA3Pae1SN3wmxv3sxPDJlD1uTFxMKkKMk2lRjxKWZE1Ktqvs7k-mr6mCjq0UdKLh8?width=574&amp;amp;height=660&amp;amp;cropmode=none" alt="T-shirt front"&gt;&lt;img src="https://orvx1q.dm2302.livefilestore.com/y3mzcdee8-cKnRVTO-rrLFoC5rQMdorNPkUwiu49xlSHN6OeisdbwOFTzvPTLZzInaP0JBQLgOu9bkX8eZZZa4SuKd2ruJI80mI38NbMcTftpRMmE9zFx6DwWNGSctfhS6F2HRlKQ7Ve60D8Y6G94bbLVuFJ5hp4E9mYWQTG0QhxVk?width=594&amp;amp;height=660&amp;amp;cropmode=none" alt="T-shirt back"&gt;&lt;/p&gt;
&lt;p&gt;How cool is that?! Not too many open source projects provide such swag!&lt;/p&gt;
&lt;p&gt;Thanks to the &lt;a href="https://github.com/Microsoft/UWPCommunityToolkit"&gt;UWP Community Toolkit&lt;/a&gt; maintainers, keep up the good work!&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;A while back, I contributed my &lt;a href="http://ian.bebbs.co.uk/posts/UsingHyperlinkInMVVM"&gt;HyperlinkExtensions&lt;/a&gt; to the &lt;a href="http://ian.bebbs.co.uk/posts/UWPCommunityToolkitv1_1"&gt;UWP Community Toolkit&lt;/a&gt;. This morning postman brought me a very pleasant surprise:&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/HomeNetworkMonitoring-PartI" />
		<id>http://ian.bebbs.co.uk/posts/HomeNetworkMonitoring-PartI</id>
		<title>Home Network Monitoring - Part I</title>
		<updated>2016-04-08T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Home networks are becoming increasingly complex. It is no longer just geeks and techies who have pervasive WiFi through-out their home to which a myriad of devices connect and communicate. When things go wrong or, worse still, the network is compromised by rouge hardware or software it's extremely difficult to work out what has happened and where to start troubleshooting the issue.&lt;/p&gt;
&lt;p&gt;In the next few posts, I'm going to be showing how I used free and open-source software to build a home network monitoring solution that allows me to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Monitor the devices on my networks&lt;/li&gt;
&lt;li&gt;Monitor my network connectivity and utilisation&lt;/li&gt;
&lt;li&gt;Monitor which devices are connecting to which remote sites.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;These posts will use the following components:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;An internet router capable of sending Syslog messages&lt;/li&gt;
&lt;li&gt;A mid-spec (i.e. dual-core 2Ghz) server with plenty of storage&lt;/li&gt;
&lt;li&gt;Java Runime Environment installed on the server&lt;/li&gt;
&lt;li&gt;The ElasticSearch stack consisting of:
&lt;ul&gt;
&lt;li&gt;Logstash (I will be using v2.4.1)&lt;/li&gt;
&lt;li&gt;ElasticSearch (I will be using v2.4.1)&lt;/li&gt;
&lt;li&gt;Kibana (I will be using v4.5.0)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;the router&lt;/h1&gt;
&lt;p&gt;At the core of my solution is a router that supports writing &lt;a href="https://en.wikipedia.org/wiki/Syslog"&gt;Syslog&lt;/a&gt; messages to a Syslog server. While once a rarity, this functionality is becoming increasingly prevalent in home / SOHO routers. Personally I use a &lt;a href="http://www.draytek.co.uk/products/business/vigor-2830"&gt;DrayTek Vigor 2830&lt;/a&gt;, a versatile and - most importantly - extremely reliable router that can be purchased for just over £100 in the UK.&lt;/p&gt;
&lt;p&gt;From the router administration web interface, you can set the router to write a variety of Syslog messages to a Syslog server by specifying the servers IP address. This can be seen below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/DrayTek-Syslog.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="DrayTek Vigor Syslog Settings"&gt;
&lt;p&gt;I simply tick all the boxes and add the IP address of the PC hosting the Syslog server.&lt;/p&gt;
&lt;h1&gt;the syslog server&lt;/h1&gt;
&lt;p&gt;Now we have a router that is sending connectivity information via Syslog, we need a service running on a server that is capable of receiving these messages. For this I am using Elastic's &lt;a href="https://www.elastic.co/products/logstash"&gt;Logstash&lt;/a&gt; to receive the syslog messages and enrich them before forwarding them to an indexed store.&lt;/p&gt;
&lt;p&gt;Logstash is an extremely versatile tool capable of consuming data from a variety of sources. A configuration file is used to set up a pipeline of inputs, operations (known as filters) and outputs which can do some truly fantastic things. If you're new to Logstash it might be worthwhile giving the ("Getting Started")[https://www.elastic.co/guide/en/logstash/current/getting-started-with-logstash.html] guide a quick read.&lt;/p&gt;
&lt;p&gt;To start with, we'll get Logstash to simply accept Syslog input from a given port and write it to the console. To do this, simply &lt;a href="https://www.elastic.co/downloads/logstash"&gt;download Logstash&lt;/a&gt; and extract it to a directory on the PC. Next, open notepad and copy paste the following:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;input {
  tcp {
    port =&amp;gt; 5000
    type =&amp;gt; syslog
  }
  udp {
    port =&amp;gt; 5000
    type =&amp;gt; syslog
  }
}

filter {
}

output {
  stdout {
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Save this file named 'Syslog.config' and, from a command prompt, start Logstash with the following command:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[LogStashDirectory]\bin\logstash.bat agent -f [ConfigFilePath]\Syslog.config&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;If all goes well, you should see Logstash start receiving Syslog messages from the router which should appear something like the following:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;io/console not supported; tty will not be manipulated
Settings: Default pipeline workers: 2
Pipeline main started
2016-04-08T13:52:21.903Z 192.168.1.1 &amp;lt;150&amp;gt;Apr  8 14:51:59 Vigor: Local User (MAC=ZZ-ZZ-ZZ-ZZ-ZZ-ZZ): 192.168.1.62 DNS -&amp;gt; 192.168.1.1 inquire a.root-servers.net
2016-04-08T13:52:22.528Z 192.168.1.1 &amp;lt;150&amp;gt;Apr  8 14:51:59 Vigor: Local User (MAC=ZZ-ZZ-ZZ-ZZ-ZZ-ZZ): 192.168.1.51 DNS -&amp;gt; 192.168.1.1 inquire api-global.netflix.com
2016-04-08T13:52:22.528Z 192.168.1.1 &amp;lt;150&amp;gt;Apr  8 14:51:59 Vigor: Local User (MAC=ZZ-ZZ-ZZ-ZZ-ZZ-ZZ): 192.168.1.51 DNS -&amp;gt; 213.120.234.54 inquire api-global.netflix.com
2016-04-08T13:52:22.903Z 192.168.1.1 &amp;lt;150&amp;gt;Apr  8 14:52:00 Vigor: Local User (MAC=ZZ-ZZ-ZZ-ZZ-ZZ-ZZ): 192.168.1.62 DNS -&amp;gt; 192.168.1.1 inquire a.root-servers.net
2016-04-08T13:52:24.356Z 192.168.1.1 &amp;lt;150&amp;gt;Apr  8 14:52:01 Vigor: Local User (MAC=ZZ-ZZ-ZZ-ZZ-ZZ-ZZ): 192.168.1.100 DNS -&amp;gt; 192.168.1.1 inquire sls.update.microsoft.com
2016-04-08T13:52:24.356Z 192.168.1.1 &amp;lt;150&amp;gt;Apr  8 14:52:01 Vigor: Local User (MAC=ZZ-ZZ-ZZ-ZZ-ZZ-ZZ): 192.168.1.100 DNS -&amp;gt; 213.120.234.54 inquire sls.update.microsoft.com
2016-04-08T13:52:24.356Z 192.168.1.1 &amp;lt;158&amp;gt;Apr  8 14:52:01 Vigor: Load_balance 192.168.1.100 --(DNS)--&amp;gt; 213.120.234.54 go WAN1
2016-04-08T13:52:24.731Z 192.168.1.1 &amp;lt;150&amp;gt;Apr  8 14:52:01 Vigor: Local User (MAC=ZZ-ZZ-ZZ-ZZ-ZZ-ZZ): 192.168.1.100:53432 -&amp;gt; 157.56.77.138:443 (TCP)
2016-04-08T13:52:24.731Z 192.168.1.1 &amp;lt;158&amp;gt;Apr  8 14:52:01 Vigor: Load_balance 192.168.1.100 --(BAL)--&amp;gt; 157.56.77.138 go WAN1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you're not receiving Syslog messages try the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Ensure to check the firewall settings on the server you're using. You need to allow incomming TCP and UDP connections on port 5000.&lt;/li&gt;
&lt;li&gt;Attempt to telnet to port 5000 on the Syslog server. If Logstash is running correctly, you should be able to connect and see anything you sent from Telnet mirrored in the Logstash console window.&lt;/li&gt;
&lt;li&gt;If you're still unable to see any output, try using a network analysis too like &lt;a href="https://www.wireshark.org/"&gt;Wireshark&lt;/a&gt; to see if your router is actually sending any messages.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;the syslog store&lt;/h1&gt;
&lt;p&gt;Now we're able to receive Syslog messages, we need to store and index them. For this, we will use ElasticSearch. Simply &lt;a href="https://www.elastic.co/downloads/elasticsearch"&gt;download ElasticSearch&lt;/a&gt;, extract it to a directory and start it. If necessary you can change the directory used to store  ElasticSearch data or the interface/port on which ElasticSearch listens for incomming connections by modifying the &lt;code&gt;config\ElasticSearch.yml&lt;/code&gt; file. Modifying this file is pretty straight forward but for help the &lt;a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html"&gt;ElasticSearch documentation&lt;/a&gt; is available online and very thorough.&lt;/p&gt;
&lt;p&gt;Additionally, rather than having to manually start ElasticSearch everytime you want to use it, you can easily install it as a Windows service simply - as I have done - by issuing the following commands from a command prompt:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;[PathToElasticSearch]\bin\service.bat install
[PathToElasticSearch]\bin\service.bat start
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ElasticSearch should no be running. You can check this calling REST methods on ElasticSearch's web interface; by default on port 9200. In a browser, simple enter &lt;code&gt;http://[server-ip]:9200&lt;/code&gt; and you should see something like the following:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;"name" : "Shellshock",
"cluster_name" : "cluster",
"version" : {
  "number" : "2.3.1",
  "build_hash" : "bd980929010aef404e7cb0843e61d0665269fc39",
  "build_timestamp" : "2016-04-04T12:25:05Z",
  "build_snapshot" : false,
  "lucene_version" : "5.5.0"
},
"tagline" : "You Know, for Search"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: You will be using the REST API extensively in future steps so I suggest finding a toolset that make querying and posting to REST endpoints easier. I use the excellent &lt;a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en"&gt;&lt;code&gt;Postman&lt;/code&gt;&lt;/a&gt; Chrome application.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With ElasticSearch running, we now need to modify Logstash to forward Syslog messages to ElasticSearch for indexing. As both tools are part of the Elastic Stack, this is every bit as easy as you might expect it to be. Simply open the &lt;code&gt;syslog.config&lt;/code&gt; file we created earler and change it to the following:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;input {
  tcp {
    port =&amp;gt; 5000
    type =&amp;gt; syslog
  }
  udp {
    port =&amp;gt; 5000
    type =&amp;gt; syslog
  }
}

filter {
}

output {
  elasticsearch {
    hosts =&amp;gt; ["[ElasticSearchServer-NameOrIPAddress]:9200"]
    index =&amp;gt; "syslog-%{+YYYY.MM.dd}"
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With this in place, restart the Logstart service and, instead of writing received messages to the console, they will be stored in ElasticSearch.&lt;/p&gt;
&lt;h1&gt;the dashboard&lt;/h1&gt;
&lt;p&gt;Now we have syslog messages in a central store, we will look how to set up a simple (for now) dashboard that lets us see a minimally useful feature: the number of Syslog messages being received over time.&lt;/p&gt;
&lt;p&gt;In order to do this, we will be using ElasticSearch's Kibana tool to query messages from ElasticSearch and display a histogram of messages on a dashboard. To get started, simply download and extract Kibana to a directory on the server. Kibana comes with a default configuration that allows it to run correctly when co-located on the same server as ElasticSearch. If you are not running Kibana on the same server as ElasticSearch, you will need to modify the Kibana configuration file as described in the &lt;a href="https://www.elastic.co/guide/en/kibana/current/index.html"&gt;documentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To start Kibana, simply open a command prompt and execute the following command:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[PathToKibana]\bin\Kibana.bat&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You should see something like the following:&lt;/p&gt;
&lt;pre class="prettyprint"&gt;&lt;code&gt;log   [15:51:32.912] [info][status][plugin:kibana] Status changed from uniniti
alized to green - Ready
log   [15:51:32.975] [info][status][plugin:elasticsearch] Status changed from
uninitialized to yellow - Waiting for Elasticsearch
log   [15:51:33.006] [info][status][plugin:kbn_vislib_vis_types] Status change
d from uninitialized to green - Ready
log   [15:51:33.022] [info][status][plugin:markdown_vis] Status changed from u
ninitialized to green - Ready
log   [15:51:33.037] [info][status][plugin:metric_vis] Status changed from uni
nitialized to green - Ready
log   [15:51:33.053] [info][status][plugin:spyModes] Status changed from unini
tialized to green - Ready
log   [15:51:33.068] [info][status][plugin:statusPage] Status changed from uni
nitialized to green - Ready
log   [15:51:33.068] [info][status][plugin:table_vis] Status changed from unin
itialized to green - Ready
log   [15:51:33.100] [info][listening] Server running at http://0.0.0.0:5601
log   [15:51:38.131] [info][status][plugin:elasticsearch] Status changed from
yellow to yellow - No existing Kibana index found
log   [15:51:41.053] [info][status][plugin:elasticsearch] Status changed from
yellow to green - Kibana index ready
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With Kibana started, use a browser to navigate to the Kibana web interface, typically on port 5601.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: If you are connected to Kibana from another PC, you will need to open firewall port 5602 on the server to allow connections to Kibana.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After a short pause while Kibana is initialised, you should see the following screen:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-InitialIndex.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Initial Index Settings"&gt;
&lt;p&gt;This screen allows you to add an index to Kibana that it can query messages in order to discover, visualise and ultimately produce a dashboard from information stored in the index. It is currently set to examine an index called &lt;code&gt;logstash-*&lt;/code&gt; and shows a disable button at the bottom of the screen containing the text 'Unable to fetch mapping. Do you have indices matching the pattern' as we do not have a logstash index stored in ElasticSearch. We want Kibana to query our Syslog index so we change the 'Index name or pattern' to &lt;code&gt;Syslog-*&lt;/code&gt; and, shortly after changing this value, we should see the button at the bottom change to 'Create' as shown here:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-SyslogIndex.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Syslog Index Settings"&gt;
&lt;p&gt;As Kibana has defaulted to the correct timestamp field (more on this later) you can simply click the 'Create' button to add the index to Kibana.&lt;/p&gt;
&lt;p&gt;After creating the index, you are taken to a screen that allows you modify how Kibana displays the fields within the index as shown below:&lt;/p&gt;
 &lt;img src="/Content/HomeNetworkMonitoring/Kibana-SyslogIndexMapping.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Syslog Index Mapping"&gt;
&lt;p&gt;We do not need to change anything here so can immediately start 'discovering' information in our Syslog index by clicking the 'Discover' tab as shown below:&lt;/p&gt;
 &lt;img src="/Content/HomeNetworkMonitoring/Kibana-DiscoverSyslog.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Discover Syslog"&gt;
&lt;p&gt;Here we're able to see the detail of the Syslog messages stored within the Syslog index on ElasticSearch. However, for now the messages are just strings so there's not a great deal we can do with them other than count them to produce a histogram of messages over time. To do this, we
first want to add the fields of the index we're interested in (just timestamp, host, message and type for now) to the selected fields area as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-SelectSyslogFields.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Select Syslog Fields"&gt;
&lt;p&gt;Once we have the fields we're interested in selected, we save them as a new search by clicking the 'Save Search' button in the top right of the window as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-SaveSyslogSearch.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Save Syslog Search"&gt;
&lt;p&gt;Once the search is saved, we can proceed straight to the 'Visualise' tab to create the histogram as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-VisualiseSyslogAsVerticalBarChart.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Visualise Syslog As Vertical Bar Chart"&gt;
&lt;p&gt;To create a histogram, we use a "Vertical bar chart". Note it's description:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The goto chart for oh-so-many needs. Great for time and non-time data. Stacked or grouped, exact numbers or percentages. If you are not sure which chart you need, you could do worse than to start here.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So lets start here by clicking this option and selecting 'From a saved search' as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-VisualiseFromSavedSearch.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Visualise From Saved Search"&gt;
&lt;p&gt;Once you select the 'Syslog Messages' save search you will immediately be taken to the Visualization screen with a vertical bar chart showing a single bar with the total count of all messages. Here we want to customise the visualisation to display the count of messages over time so we first need to define the X-axis as a 'Date Histogram' as shown below.&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-VisualiseDateHistogram.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Visualise Date Histogram"&gt;
&lt;p&gt;With these settings in place, click the 'Apply Changes' button and you should immediately see a chart of the count of syslog messages over time. Note that Kibana has automatically selected an appropriate resolution of column grouping (messages 'per 30 seconds' in the example above) but that this can be changed later if required.&lt;/p&gt;
&lt;p&gt;For now, we want to add this chart to a new dashboard so we can have it available to us at a moments notice. To do this, we first save our visualization by clicking the 'Save Visuaization' button as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-VisualiseSaveSyslogMessagesOverTime.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Visualise Save Syslog Messages Over Time"&gt;
&lt;p&gt;Next we navigate to the 'Dashboard' tab and click the '+' button as prompted. Again, we selected the visualization we just saved as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-DashboardAddVisualization.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Dashboard Add Visualization"&gt;
&lt;p&gt;With the "Syslog Messages Over Time" visualization added, we make it a usable size by dragging the resize control (button right corner of the visualization) to extend the visualization across the width of the window as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-DashboardSizeVisualization.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Dashboard Size Visualization"&gt;
&lt;p&gt;Finally, to make it easier to see the messages the histogram refers to, we'll add a table of related Syslog messages onto our dashboard below the histogram. To do this, click the '+' button, selected 'Searches' and then our 'Syslog Messages' search. When the table is added to the dashboard, make it a similar size as the histogram as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-DashboardWithSearch.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Dashboard With Search"&gt;
&lt;p&gt;Once done, we need to save the dashboard so we can reload it any time we need it. Simply click the 'Save Dashboard' button as shown below:&lt;/p&gt;
&lt;img src="/Content/HomeNetworkMonitoring/Kibana-DashboardSaveSyslogMessages.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Kibana Dashboard Save Syslog Messages"&gt;
&lt;p&gt;Once saved you can bookmark the page and get back to your dashboard any time you like. Furthermore, once saved, you can monkey with the dashboard (explore the data by highlighting various areas of the chart, change time frames, set autorefresh etc) as much as you like knowing you can return to saved version any time.&lt;/p&gt;
&lt;h1&gt;summary&lt;/h1&gt;
&lt;p&gt;In this post, I have outlined how to use a Syslog capable router to send Syslog messages to Logstash and have Logstash store these messages in ElasticSearch for querying. Furthermore we then created a dashboard in which we can explore the number of Syslog messages we received over various timeframes.&lt;/p&gt;
&lt;p&gt;In the next post we'll increase the granularity of the messages we store so that we can start creating more interesting dashboard.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Home networks are becoming increasingly complex. It is no longer just geeks and techies who have pervasive WiFi through-out their home to which a myriad of devices connect and communicate. When things go wrong or, worse still, the network is compromised by rouge hardware or software it's extremely difficult to work out what has happened and where to start troubleshooting the issue.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/MonsterPi" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/y3mJgriVgVEFWAdldfy7Bj9MEJznwpJtJ4NFHotqnwZ0rWbC2h8ewxTr9MSxr6LCGyQBB-TvmYCV9j4YVZbu2EtVHagPnyc6O_LIZV2NqAiPfrfNkZ8P-XBV6SI0GiL7zx0iuOTniKjZ-Gq9_lN6SLkkIMHMx14EE3l2XuZQ1cTPfI%253Fwidth=967&amp;height=273&amp;cropmode=none" />
		<id>http://ian.bebbs.co.uk/posts/MonsterPi</id>
		<title>MonsterPi</title>
		<updated>2016-10-08T00:00:00Z</updated>
		<content>
                                        


&lt;h2&gt;Preface&lt;/h2&gt;
&lt;p&gt;I've long loved the idea of home automation. From X10 and LightwaveRF through to modern Bluetooth and Wifi connected devices, I have played with dozens of technologies in search of home automation nirvana. But recently I have watched with growing bewilderment at the incredible number of "cloud-connected" home automation devices being released and the eagerness with which they're snapped up by naive consumers hungry to control everything from the carefree comfort of their iPhone.&lt;/p&gt;
&lt;p&gt;You see, while you can buy a myriad of IoT devices off the shelf nowadays, they nearly all come with some form of "cloud-service" that is necessary in order for the device to work as sold. As the more wily of reader will no doubt be aware, this exposes your home network to innumerable &lt;a href="https://it.slashdot.org/story/16/10/03/1359200/source-code-for-iot-botnet-mirai-which-took-down-krebs-on-security-website-with-ddos-attack-released"&gt;security concerns&lt;/a&gt;, &lt;a href="https://it.slashdot.org/story/16/08/08/1449221/hackers-make-the-first-ever-ransomware-for-smart-thermostats"&gt;potential abuses&lt;/a&gt; and an &lt;a href="https://tech.slashdot.org/story/16/01/14/1347243/nest-thermostat-bug-leaves-owners-without-heating"&gt;external point of failure&lt;/a&gt; that cannot be closed/fixed without sacrificing some or all of the functionality of the new fangled device.&lt;/p&gt;
&lt;p&gt;While I understand the ostensible benefits of this approach (ease of setup, remote use without manually opening firewall ports, centralised patching and upgrading, etc), sacrificing control of (potentially hazardous or invasive) devices within my home is not a value proposition I am comfortable with. I would very much like to see a new (or is that old?) breed of device that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;does not require an internet connection to operate with all features intact,&lt;/li&gt;
&lt;li&gt;with which the owner can proactively decide what control and data is available to servers outside of the home network and,&lt;/li&gt;
&lt;li&gt;which surface simple, open interfaces to the owner allowing them to completely control all aspects of the device.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In short, I'd like to drop the 'Inter' from IoT and expand the 'net' to become a 'Network of Things', or NoT.&lt;/p&gt;
&lt;p&gt;In terms of the consumer market, I am undoubtedly swimming against the tide here. Fortunately with the rise of hobbyist devices such as Arduino and RaspberryPi, IoT technologies have been democratised to the extent that anyone with just the smallest ability with a soldering iron and faculty with an IDE can create such devices for themselves.&lt;/p&gt;
&lt;p&gt;Ladies and gentlemen, I present my first (finished) NoT device, the...&lt;/p&gt;
&lt;h1&gt;MonsterPi&lt;/h1&gt;
&lt;p&gt;Years ago, while setting up my (living room) home cinema, I came across the &lt;a href="http://www.adverts.ie/home-audio/monster-hts-1600-home-theatre-powercenter-5-outlet-with-stage-2-clean-power-purge-protector-uk-version/7055360"&gt;Monster Power HTS 1600&lt;/a&gt; on &lt;a href="https://www.scan.co.uk/"&gt;Scan's website&lt;/a&gt;. It seems Monster Products were end-of-lining their power products in the UK (the above link was literally the only one I could find that still works!) and Scan were selling them off at £30 a piece. It was exactly what I was looking for at the time and, not being one to pass up a bargain, I bought two.&lt;/p&gt;
&lt;img src="https://0oiczq.dm2302.livefilestore.com/y3mwcGE45bQwRPaCXRNuB9tGejIT6aSpahgDN02u9ag661uCa_ZmYbNnaKz2aW81rjG8BTgsUhtZ0aDQ8ioIsagbcFP6LtM-IgV_rcPoCs8UI4dZNegv8JembGIuIr7ETkwTZwOTEUjsAAbQHy0jCyAGNkGu3NJZLkXjnGwgzUMlTI?width=700&amp;amp;height=466&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="One of the few remaining pictures online of the Monster Power HTS 1600 UK version"&gt;
&lt;p&gt;Both devices found homes powering and protected my front room and study AV equipment and, to this day, I am still very happy with them. However, I always felt that Monster had missed a trick with this product: the ability to individually and - ideally - remotely turn each of the sockets on the unit on and off as desired.&lt;/p&gt;
&lt;p&gt;When Microsoft announced that Windows IoT Core would run on a RaspberryPi the learning curve ahead of making this happen evaporated and I knew it was something I wanted to do. Unfortunately both Monster Power devices were in full time use and I didn't want to potentially sacrifice one on a project that might not work and could consign the device to the scrap yard. Given that you couldn't purchase the UK version of these devices any more and that, when they occasionally appeared on eBay, they'd invariably be priced at £100+ the project was indefinitely parked.&lt;/p&gt;
&lt;p&gt;Finally, a couple of months ago, a 'used' one appeared on eBay without a reserve and with bidding at thirty odd quid having just a few hours to go. I placed a bid without really hoping it would be successful and, to my surprise, ended up winning the auction for £40'ish including delivery. When it arrived I was delighted to find that it seemed to be brand new and unused (twisty wire on all the cables, supplementary cables still in sealed bags, etc). Plugging it in proved that everything worked as it should so everything was in place to build the MonsterPi.&lt;/p&gt;
&lt;h2&gt;Software&lt;/h2&gt;
&lt;p&gt;While waiting for the time and space required to start hacking up the hardware, I took a look into what was required to write a headless UWP app, self-hosting a HTTP REST endpoint that could be deployed to the RaspberryPi and set values on the GPIO pins necessary to control the &lt;a href="http://www.waveshare.com/rpi-relay-board.htm"&gt;Waveshare RaspberryPi Relay Board&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It didn't take long to find &lt;a href="https://github.com/tomkuijsten/restup"&gt;Restup&lt;/a&gt;, a beautifully simple if somewhat minimal 'Webserver for Universal Windows Apps'. The github repository provided ample samples for writing various types of 'controller' and in less than an hour, I had a working solution.&lt;/p&gt;
&lt;p&gt;Given the Waveshare relay board just required GPIO pins to be set in order to control the relay (low to close, high to open) this was achieved very simply using the classes available in the &lt;a href="https://msdn.microsoft.com/library/windows/apps/windows.devices.gpio.aspx"&gt;Windows.Devices.Gpio namespace&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Deployment was taken care of by Visual Studio and configuration performed using the Windows IoT Core Device Portal. The Device Portal allows you to configure deployed apps to run at start up thereby creating a "service-like" experience for headless apps.&lt;/p&gt;
&lt;img src="https://0oidzq.dm2302.livefilestore.com/y3myuJMpQJ0iee-DzmucnuUu2r69IZ2c_KNukHEjoPB0--qRcndLbk0EwUszv8MLYj207fNIWEelQn4TYtW40FVp_y77RW-aTL3AcxQWcowLMB_zsw9jYdH0SwepJ0l6_XC0z9erqkYt4k4TaUBdnqxPYUlSf786xKVx1zwTC4jEsg?width=1363&amp;amp;height=905&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Using the device portal to set Start-up apps"&gt;
&lt;p&gt;Full source code is available on my &lt;a href="https://github.com/ibebbs/MonsterPi"&gt;Github account&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Hardware&lt;/h2&gt;
&lt;p&gt;The hardware side of things proved to be both easier and more tricky than I expected.&lt;/p&gt;
&lt;p&gt;Initially I thought fitting the Pi was going to be child's-play when, upon opening the Monster Power chasis I found that the configuration of sockets providing isolation for RJ11 and RJ45 devices (phone and ethernet respectively) matched the layout of the ethernet and USB connectors of the Pi almost perfectly. Furthermore, these sockets were mounted on an easily removable daughter-board providing an obvious way to fix the pi in place.&lt;/p&gt;
&lt;img src="https://nhtcwg.dm2302.livefilestore.com/y3mKq_74GixCoND7XvyavcDTjnNPdW2xd58RqEk1KZtO4f8nqKhcwyGbMRJqYhtuIHOmJCrJo6O-pltKB1pW0DFAHNy2oi6CNuyOle6TUxrjb4UzQo5_uDIPhNAP1uF8llVVLds4J6Bcp5b2s0GRI_T1uLx__qES0eUimFSxaTWddk?width=1024&amp;amp;height=576&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="The sockets on the RaspberryPi aligned almost perfectly with the RJ11 isolator sockets"&gt;
&lt;p&gt;While alignment wasn't perfect, filing the holes in the chasis to provide access to all ports would be easy.&lt;/p&gt;
&lt;p&gt;Complexity came when I realised that, although the Monster Power included a micro-controller driven digital display, it was unlikely that the DC subsystem in place to power this would be adequate for the RaspberryPi. So here I had to get creative.&lt;/p&gt;
&lt;p&gt;I bought a small &lt;a href="https://www.amazon.co.uk/gp/product/B01H0OH3PI/ref=oh_aui_detailpage_o02_s01?ie=UTF8&amp;amp;psc=1"&gt;12v 80W switching power supply&lt;/a&gt; which would fit down one side of the Moster Power chasis and wired it to the 240v input of using the conveniently provided ring terminals. I used a &lt;a href="http://ian.bebbs.co.uk/posts/3DPrintingWithTheCelRobox"&gt;custom printed bracket&lt;/a&gt; to secure the PSU in place while providing a platform to mount the &lt;a href="http://www.waveshare.com/rpi-relay-board.htm"&gt;Waveshare RaspberryPi Relay Board&lt;/a&gt; above, in close proximity to the sockets I wanted to control with the relays.&lt;/p&gt;
&lt;p&gt;The live wire to the three sockets to be controlled by relays were daisy-chained together so one side of this wire was cut from each socket and connected to the normally-closed output of the relay (extending where necessary using crimp connectors).&lt;/p&gt;
&lt;p&gt;This is shown below:&lt;/p&gt;
&lt;img src="https://zphbnq.dm2302.livefilestore.com/y3mBGmj_-221eHr5ChhkWQfyEOjewU-6JEKOKlqHR-UqR0eMZdf2xPtI5qfP_K1rjguEplhOWObkMJ2fiGI4T4WSQOGh8GfodMLL2lPWD5QZFnBFPYwPUID3FZgVTYndwwL5jDybtRBC6JE_hhcTokWGrmppuLoHccNLsmFZyUsAvM?width=576&amp;amp;height=1024&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="12v switching PSU with relay board mounted in custom bracket"&gt;
&lt;p&gt;While the perspective in the picture makes it look like it hangs over the edge of the chasis, it does actually fit. It's tight, but it fits.&lt;/p&gt;
&lt;p&gt;I used a &lt;a href="https://www.amazon.co.uk/gp/product/B01CUA5Q74/ref=oh_aui_detailpage_o02_s00?ie=UTF8&amp;amp;psc=1"&gt;12V To 5V 3A 15W Power Converter Regulator with Micro USB Cable&lt;/a&gt; to power the RaspberryPi and - given I now had plenty of power to spare, decided to also fit the &lt;a href="https://www.amazon.co.uk/Step-Down-Step-down-Power-Module/dp/B00ENE55SQ/ref=pd_nav_hcs_bia_t_1?ie=UTF8&amp;amp;psc=1&amp;amp;refRID=J91844QA901NNMPP9XHJ"&gt;4-port USB power module&lt;/a&gt; I had bought, but not used, for our &lt;a href="http://ian.bebbs.co.uk/posts/WotNoBlogPosts"&gt;travels earlier in the year&lt;/a&gt;. Again, this aligned almost perfectly in the remaining holes in the Monster Power chasis.&lt;/p&gt;
&lt;img src="https://nhtcwg.dm2302.livefilestore.com/y3mKq_74GixCoND7XvyavcDTjnNPdW2xd58RqEk1KZtO4f8nqKhcwyGbMRJqYhtuIHOmJCrJo6O-pltKB1pW0DFAHNy2oi6CNuyOle6TUxrjb4UzQo5_uDIPhNAP1uF8llVVLds4J6Bcp5b2s0GRI_T1uLx__qES0eUimFSxaTWddk?width=1024&amp;amp;height=576&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="The sockets on the USB power module aligned almost perfectly with the RJ11 isolator sockets"&gt;
&lt;p&gt;Both these were mounted - upside down - on a custom printed bracket using the screw holes for the original daughter board to secure it in place. Terminal connectors were used to provide connection to the power supply just in case I needed to remove the components at a later date for some reason.&lt;/p&gt;
&lt;img src="https://zphcnq.dm2302.livefilestore.com/y3mMyQU1JCq5r9g0pnmuLGrrVm1-_D8Bq9UVm5uZgUD2lx9t3LVnjEIgWzqzwKeKbju29iHfBntmTX0FPZFKzWK6RAnFwWw-rxMfWyslJf52FN4XkFlglfGHc97-z24asPfR-NLEAd8nEE9e8X9V-tEP_wen7kF0zsAchvQJYwOjJk?width=576&amp;amp;height=1024&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Mounting the RaspberryPi and USB power module on a custom bracket"&gt;
&lt;p&gt;Finally, boards were fixed in place and a ribbon cable connected between the GPIO socket on the RaspberryPi and the relay board to allow control of the relays.&lt;/p&gt;
&lt;img src="https://nhtewg.dm2302.livefilestore.com/y3mYTQzOsTukjrHcb69XX-50V18rcvHJUP4R8u6hmsgR1yAm2DCpFzoK9UdUNyfxseH59qtuRbVeIVVX9AM1h8lde7IbZDOPRYz0le7cac0bFkoC4pzsyjVKNO3QapjDdlCK-awMaL_NOhYEw6rW4_7lMTobDNRqGrK17yE1SmeRHA?width=1024&amp;amp;height=576&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Brackets in place and RaspberryPi fitted"&gt;
&lt;p&gt;After a thorough check to make sure there were no shorts on any of the connections and that I had connected polarity correctly, I plugged it in and turned it on....&lt;/p&gt;
&lt;h2&gt;Testing&lt;/h2&gt;
&lt;p&gt;... and everything worked.&lt;/p&gt;
&lt;p&gt;The RaspberryPi booted but didn't switch the sockets on as - I think - not having a network connection meant it couldn't get an IP address which meant the software hadn't enabled to relays due to being configured to fail safe (leave the sockets off). The power indicator on the USB power module suggested it was working fine too.&lt;/p&gt;
&lt;p&gt;Next I relocated to another room where a network connection was available. I plugged it in, turned it on and saw the network connection LED's start blinking. After 15-20 seconds or so while the RaspberryPi booted, the relays tickets on and I was able to hit the REST endpoint from &lt;a href="https://www.getpostman.com/"&gt;Postman&lt;/a&gt;. I'd even managed to get the names of the sockets on the rest service to match the sockets the relays were controlling, although I admit this was more luck than judgement (I had completely expected to have to re-configure the software to match after the hardware was complete).&lt;/p&gt;
&lt;p&gt;I plugged in a small table lamp and recorded this:&lt;/p&gt;
&lt;iframe src="https://onedrive.live.com/embed?cid=03DF8A28BD9D0BC9&amp;amp;resid=3DF8A28BD9D0BC9%21266322&amp;amp;authkey=AI5IzCXupiYl-CU" width="600px" height="340px" frameborder="0" scrolling="no" allowfullscreen=""&gt;&lt;/iframe&gt;
&lt;p&gt;Boom! (Figuratively speaking of course... the MonsterPi didn't literally go boom... yet :0)&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;I've long loved the idea of home automation. From X10 and LightwaveRF through to modern Bluetooth and Wifi connected devices, I have played with dozens of technologies in search of home automation nirvana. But recently I have watched with growing bewilderment at the incredible number of "cloud-connected" home automation devices being released and the eagerness with which they're snapped up by naive consumers hungry to control everything from the carefree comfort of their iPhone.&lt;/p&gt;</summary>
	</entry>
</feed>icked, the &lt;code&gt;Hyperlink&lt;/code&gt; would execute an &lt;code&gt;ICommand&lt;/code&gt; instance data-bound to the view from the view-model. Obviously this wasn't possible as standard so I started thinking through alternatives.&lt;/p&gt;
&lt;p&gt;My first inclination was to restyle a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.button.aspx"&gt;Button&lt;/a&gt; to look like a Hyperlink. This would, ostensibly, be fairly straight forward and naturally provided a Command &lt;code&gt;DependencyProperty&lt;/code&gt; to bind to. However, keeping the hyperlink styled as per the current system theme would be arduous to say the least.&lt;/p&gt;
&lt;p&gt;Putting this aside, I came across &lt;a href="http://stackoverflow.com/a/11433814"&gt;this post&lt;/a&gt; which employed an attached property to start a process (normally a browser to display external content) on the host PC. Realising this approach could be extended to accomplish my goals I refactored it to the following:&lt;/p&gt;
&lt;script src="https://gist.github.com/ibebbs/654f519eec134135f7f9469150b07438.js"&gt;&lt;/script&gt;
&lt;p&gt;Which can be used as follows:&lt;/p&gt;
&lt;script src="https://gist.github.com/ibebbs/0ae7c2e0ed3c531858f5ee01c16157b8.js"&gt;&lt;/script&gt;
&lt;p&gt;Et voilá, a &lt;code&gt;Hyperlink&lt;/code&gt; control which is able to execute a data-bound &lt;code&gt;ICommand&lt;/code&gt; instance. Obviously it could be extended further to disable the hyperlink when the command reports execution is disabled (via &lt;code&gt;CanExecuteChanged&lt;/code&gt;) and provide a CommandParamter binding for passing additional information through to the command execution, but in a lot of instances - and certainly for me in this scenario - &lt;a href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it"&gt;YAGNI&lt;/a&gt;.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;The XAML (i.e. WPF, WinRT, UWP family) &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.documents.hyperlink.aspx"&gt;Hyperlink&lt;/a&gt; is a terrific little control (ok, it's not actually a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.control.aspx"&gt;Control&lt;/a&gt; - it's a &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.contentelement.aspx"&gt;ContentElement&lt;/a&gt; - but it does allow interaction hence using the term control here). It follows the current environment's theme such that the user naturally knows it's a link that can be clicked and it can be embedded inside &lt;a href="https://msdn.microsoft.com/en-us/library/system.windows.controls.textblock.aspx"&gt;TextBlock&lt;/a&gt; elements so that it naturally flows with the other content.&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ToddlerBoxTopsTenThousandUsers" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/y3mVAxtKFjUEGk7Hdhzjl4UZ2INnFdBbw9K-tnYZ8DYoJ-VoKxpAN6w8Ng0DFTYdSxpHY6IvL5-VwJpLkQl6qWRmMQXSExLXopz5CFuSxIbyaMLrnL2Vy3yPZlISAAknXZdT4HwiZJ55zg2UtKwucBL88-xHh6rn5Mh97yzfRsCPjI%253Fwidth=1024&amp;height=574&amp;cropmode=none" />
		<id>http://ian.bebbs.co.uk/posts/ToddlerBoxTopsTenThousandUsers</id>
		<title>ToddlerBox Tops 10,000 Users!!</title>
		<updated>2016-12-20T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Really that got out of hand fast! I had no idea so many people would be interested in letting their toddler loose on their XBox controller. In fact, there have been many things that have surprised me about this app:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Acquisition rate has increased&lt;/p&gt;
&lt;p&gt;I kind of expected an initial burst of acquisitions then a slow tail off but this hasn't happened. As it's only been a little over a month since ToddlerBox was released to the store, I guess there's every possibility that it's still in the "burst" stage and theres just more interest in apps of this type. Well, here's hoping.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reviews have been extremely polarized&lt;/p&gt;
&lt;p&gt;Almost without exception, reviews have been 4-5 stars or 1 star. Also, while a couple of the 1 star ratings are to do with app functionality (it seems a couple of people have issues running even this basic UWP app) the overwhelming majority of 1 star ratings are due to peoples dislike of ads; because...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ads are a very risky business&lt;/p&gt;
&lt;p&gt;As with most parents, I am extremely cautious about what my toddler is exposed to. Therefore I was extremely cautious about adding advertising as a means of revenue to ToddlerBox, regardless of how small or out of the way they were.
After completing the Ad-Mediation questions in the Windows Store and being assured that ads would be both age rated and not "tracking", I felt a lot better about the idea and decided a small banner ad on the instructions screen would be pretty harmless. Furthermore, throughout the process of adding the banner, I didn't see a single advert I would be concerned about putting in front of my child; most were simple flashing inbox icons or the like.
However, after discussing ToddlerBox with a friend, he decided to install it on his Xbox and I was very upset to see that the ads being displayed were both more intrusive and more "click-baity" than any I had seen previously. I am now investigating ways to generate some revenue from the app but without upsetting parents.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The reviews shown in the store are not "all reviews"&lt;/p&gt;
&lt;p&gt;As the publisher of ToddlerBox, I get to see all reviews left about the app on the store. Due to all the previous points, the app is currently averaging about a 2.6 star rating across 50 odd reviews. However, when viewing the app in the Store on my friend's XBox, it was shown as having a 4.5 star rating from just 2 reviews. Now, while some of the reviews I can see are translated from foreign languages, most are in English and I'm therefore at a loss to explain why they're not being displayed when an XBox in the English local browses the store.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It's not just toddlers using ToddlerBox&lt;/p&gt;
&lt;p&gt;I've had more than one review stating how good this game is to play after consuming various illicit substances ;0P&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anyway, as described above, while acquisition rate has fluctuated on a daily basis, the overall trend in acquisition shows unexpected growth:&lt;/p&gt;
&lt;img src="https://bnljqq-dm2306.files.1drv.com/y3msqT1msmkJ_32Jewx8Ysuoys0lC35GCLY-aQPyJ9YhR75KMswOLcznSPGOOBGhhsMRb6qK3_xh_qr3h1Xh-vFwmSog1_HoOS-Isj1lMoFPpuV42oAwJi3A5JiY-ToAirVoZDnz2gQ7N6jUed82zW83IZ_qQcbqWGw1ekaNh4wjBU?width=660&amp;amp;height=252&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Acquisitions over App Lifetime"&gt;
&lt;p&gt;Daily usage also shows that a healthy number of acquisitions are being used regularly, with nearly 800 people using ToddlerBox nearly 1700 times just yesterday (19th December):&lt;/p&gt;
&lt;img src="https://bnlkqq-dm2306.files.1drv.com/y3mBC-i0nboWq0ibRyIcBhs1O2MnfOUx-OxTQZDUNHbh-eVRbfH0xP9-p9hLJqC82i1SBB5ZfpcfmTlvuZwMBD-Gt0BZZC-IvVCJOd1jzexDoiC-BV4LG7X2aOyOapkCKK6wM6WWffluiuD5MKKet6MfEIjTWNZMCpFx1FP13suiCY?width=660&amp;amp;height=249&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Daily usage"&gt;
&lt;p&gt;So, the Xmas break is almost upon us and I will be returning my attention to ToddlerBox (yes, despite the career break, I try to spend most of my time working on 'serious' projects or study). I have a number of new features in mind for it (including the #1 requested feature of "sound!!") and will be looking to try out a couple of more features of the awesome Win2D library. It's going to be a lot of fun (for me and my little girl) and will hopefully allow ToddlerBox to reach the next major (although admittedly arbitrary) milestone of 25,000 acquisitions!&lt;/p&gt;
&lt;p&gt;Watch this space...&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Really that got out of hand fast! I had no idea so many people would be interested in letting their toddler loose on their XBox controller. In fact, there have been many things that have surprised me about this app:&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ToddlerBoxHitsOneThousandUsers" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/ibebbs/ToddlerBox/raw/master/store/Screenshots/Xbox/Donkeys" />
		<id>http://ian.bebbs.co.uk/posts/ToddlerBoxHitsOneThousandUsers</id>
		<title>ToddlerBox Hits 1000 Users</title>
		<updated>2016-11-29T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;Wow!&lt;/p&gt;
&lt;p&gt;ToddlerBox has been in the store less than two weeks and, despite very little in the way of promotion (my other half sent out a call on Facebook for beta users), it has somehow accumulated over a thousand installs!&lt;/p&gt;
&lt;p&gt;Acquisitions have seen steady growth across a (more or less) expected demographic as can be seen below:&lt;/p&gt;
&lt;img src="https://zphbkg.dm2302.livefilestore.com/y3mxlql02_eOqhCIiHNom5uhtzjCe_ZMvbgIGPcUuLMbuHi_cmFRtGpAIb2CVV_k_HAO6v_3BB7AfILc428eEqv96IXFv3b-Vwws3CvDkXxj9uTiBtz9C2JTxwcKIPHpbhXb1LSnjCUDMosCL5GbtEQN9PsjnFM4iq6n2cCuMcSAVo?width=660&amp;amp;height=145&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Acquisitions over App Lifetime"&gt;
&lt;img src="https://0ohtkg.dm2302.livefilestore.com/y3mJ-gCk99nTK8OuY5w0Ws1xjrRZiFLkxZMpJ-0LWENyYp0q9h-tnT73xZC4_a-hrF4rbBao7kp7vY7jrdgON0ukq9qib82QSM6vNHTvQwvTUYPfyFnfOviJ0HWYe_JRsunQODVyvcmOh0zjjzDk1LXL13blrvuAloFWFlFIFygSSQ?width=660&amp;amp;height=235&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:660px; margin-top: 6px; margin-bottom: 6px;" alt="Acquisitions by Demographic"&gt;
&lt;p&gt;In addition to the number of users, the number of countries it is being used in has been really surprising. Sure, there's no localization concerns so there's no reason it &lt;em&gt;wouldn't&lt;/em&gt; be used in non-English speaking countries but I'm genuinely pleased to see it being used all over the world; from USA to Saudi Arabia and from Canada to China! Here's the current breakdown of usage:&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Country&lt;/th&gt;
      &lt;th&gt;Sessions&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;&lt;td&gt;United States&lt;/td&gt;&lt;td&gt;910&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;United Kingdom&lt;/td&gt;&lt;td&gt;311&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Canada&lt;/td&gt;&lt;td&gt;110&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Australia&lt;/td&gt;&lt;td&gt;42&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Saudi Arabia&lt;/td&gt;&lt;td&gt;33&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;China &lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Brazil&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Mexico&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Germany&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Netherlands&lt;/td&gt;&lt;td&gt;14&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;France&lt;/td&gt;&lt;td&gt;13&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;New Zealand&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Ireland&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Latvia&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Hungary&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Sweden&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Russia&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Poland&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Slovakia &lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;South Africa&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Austria&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Belgium&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Switzerland&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Spain &lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Czech Republic&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Guam&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Puerto Rico&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Chile &lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Denmark&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Romania&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Colombia &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Italy &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Libya &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Norway&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Trinidad and Tobago&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;United Arab Emirates &lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Unknown&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Given the somewhat unexpected success of ToddlerBox I am planning to release a number of future versions with various enhancements and new interactions/visualizations for toddler's to mash away at.&lt;/p&gt;
&lt;p&gt;All good fun :0D&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;Wow!&lt;/p&gt;</summary>
	</entry>
	<entry>
		<link href="http://ian.bebbs.co.uk/posts/ToddlerBoxReleasedToStore" />
		<link rel="enclosure" type="image" href="http://ian.bebbs.co.uk/y3mVAxtKFjUEGk7Hdhzjl4UZ2INnFdBbw9K-tnYZ8DYoJ-VoKxpAN6w8Ng0DFTYdSxpHY6IvL5-VwJpLkQl6qWRmMQXSExLXopz5CFuSxIbyaMLrnL2Vy3yPZlISAAknXZdT4HwiZJ55zg2UtKwucBL88-xHh6rn5Mh97yzfRsCPjI%253Fwidth=1919&amp;height=1075&amp;cropmode=none" />
		<id>http://ian.bebbs.co.uk/posts/ToddlerBoxReleasedToStore</id>
		<title>ToddlerBox Released to the XBox Store</title>
		<updated>2016-11-16T00:00:00Z</updated>
		<content>
                                        


&lt;p&gt;My little girl loves playing with the XBox controller. In fact, she'll make a beeline for it as soon as she sees it and sit for ages twiddling the thumb-sticks and mashing the buttons. So I thought it'd be great to provide some visual accompaniment to the tactile experience of playing with the controller. Furthermore, I'd been looking for an excuse to play with Win2D as part of a UWP app and this felt like a perfect opportunity.&lt;/p&gt;
&lt;p&gt;To this end, I cracked open Visual Studio, started a blank UWP app, added a nuget reference to Win2D and started coding. Using a &lt;a href="https://microsoft.github.io/Win2D/html/T_Microsoft_Graphics_Canvas_UI_Xaml_CanvasAnimatedControl.htm"&gt;CanvasAnimatedControl&lt;/a&gt; it was simple to use the &lt;a href="https://microsoft.github.io/Win2D/html/E_Microsoft_Graphics_Canvas_UI_Xaml_CanvasAnimatedControl_Update.htm"&gt;Update&lt;/a&gt; callback to read the &lt;a href="https://msdn.microsoft.com/en-us/library/windows/apps/windows.gaming.input.gamepad"&gt;Gamepad&lt;/a&gt; input and then use the &lt;a href="https://microsoft.github.io/Win2D/html/E_Microsoft_Graphics_Canvas_UI_Xaml_CanvasAnimatedControl_Draw.htm"&gt;Draw&lt;/a&gt; callback to draw a series of sprites based on the values read.&lt;/p&gt;
&lt;p&gt;All in, from not having used Win2D before, it took just a few hours to get a minimal app working with a variety of sprites and manipulation mechanisms. Flipping my &lt;a href="https://msdn.microsoft.com/en-gb/windows/uwp/xbox-apps/devkit-activation"&gt;XBox into developer mode&lt;/a&gt; allowed me to deploy the app directly to the Xbox and have a play. And I must say, I was very pleased with the result:&lt;/p&gt;
&lt;img src="https://zphxkg.dm2302.livefilestore.com/y3mynwGeO7sZByGMtgH7TP5ykDeabNNlbyLCFHZfLu2Ml9QbQft2wq6-MeIxMukEXnVpiqZfLa_lh7h15xlStRf8Eo81_y5J-zSplYIIDh5dKAkS-j2q2wS4-GUHpOpwW5eltQ8_CLhSQNoRRJwdZWs_AhjvxhhOMdCS5PB-stLlTE?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="Lots of animals"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;Lots of animals&lt;/h6&gt;
&lt;img src="https://zphykg.dm2302.livefilestore.com/y3mVAxtKFjUEGk7Hdhzjl4UZ2INnFdBbw9K-tnYZ8DYoJ-VoKxpAN6w8Ng0DFTYdSxpHY6IvL5-VwJpLkQl6qWRmMQXSExLXopz5CFuSxIbyaMLrnL2Vy3yPZlISAAknXZdT4HwiZJ55zg2UtKwucBL88-xHh6rn5Mh97yzfRsCPjI?width=1024&amp;amp;height=574&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="Lots of colours"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;Lots of colours&lt;/h6&gt;
&lt;img src="https://zphwkg.dm2302.livefilestore.com/y3m8XFQkqAgfzj1Yt9EqXW14XVybPwILZ0Hn_yGK2sbayqyeGZVqwSOGpT_xAJS3WwzYFeyQ4Gw66Fa-QyRpM71WpPUktEfgvgteIKAXfp9qCSW_my9s-7kb4Ys7Qz1JYRHv-k8fl1Y8xTTDpLhfY5xG2m56hT_ObFWrKxFhV-N-lw?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="Big..."&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;Big...&lt;/h6&gt;
&lt;img src="https://zphvkg.dm2302.livefilestore.com/y3mN4YESAkR1YSr8YbSDJtqi2DGD20bBa_w5RR2cYyAm9aXKXxib1A65RnVBxraAGCEXRELh0QMYDSASbm7F8ADzvh7EizJXlz-odd9Vhvq0ccfd0yNyL4v1f2qex5ol96GP6qvxE35Fo1L-hdlu9cfo08lDWZielw6ffr-vZ92aYE?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="...or small"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;...or small&lt;/h6&gt;
&lt;img src="https://zphukg.dm2302.livefilestore.com/y3mcH_fRNs467C1gL7rApW6mWiFYB-eCoUexIuW3CwX4Cb0seAy8IxNhjyiGFQx3jDrcB8ToLQJgekRDInIwMkMHQvVZ05vWCPrptx2vxkcu-KG40ldNAqOZu2ulyL7OPSGt7uuFNnZLOdtycCFVs3Tl5IWJltKR6uhEgxNW_j-4tI?width=1024&amp;amp;height=575&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:320px; margin-top: 6px; margin-bottom: 6px;" alt="And monkeys!!!"&gt;
&lt;h6 style="text-align: center;" markdown="1"&gt;And monkeys!!!!&lt;/h6&gt;
&lt;p&gt;The real test came when I handed to the controller to my 14 month old baby girl. It took a few seconds for her to realise that what she did on the controller affected what was displayed on screen but then there was no stopping her. For three or four minutes (a record for her!!!) she sat still, mashing away on the controller and staring at the screen while I sat mesmerized by how quickly she picked it all up.&lt;/p&gt;
&lt;p&gt;I'd call that a win!&lt;/p&gt;
&lt;p&gt;Given this success, I made some final touches and submitted it to the store; specifically for XBox. To my amazement, it passed certification first time, within 24 hours of submission despite submitting it on a Sunday. And here it is:&lt;/p&gt;
&lt;img src="https://1y8kkg.dm2302.livefilestore.com/y3mRbMDxeVB6f5ArIwJ6FjYCPRmwpPTp6LL2IGiIFOrFVgHzox_2HUl9lPNSq09KxXP5M3LD1E3nwgFi1a8HUCT-0dTH_VmemTLCQwHggxqy8u04C85i51eLPBj1op_n2ppnjK2zkhGDHcWWAyYvkncmNy4bqw58vumGP8BY4f9nZU?width=1024&amp;amp;height=576&amp;amp;cropmode=none" class="img-responsive" style="margin: auto; width:800px; margin-top: 6px; margin-bottom: 6px;" alt="ToddlerBox in the store"&gt;
&lt;p&gt;Installing from the store and ready to entertain my little one whenever I need a break.&lt;/p&gt;



                                </content>
		<summary>&lt;p&gt;My little girl loves playing with the XBox controller. In fact, she'll make a beeline for it as soon as she sees it and sit for ages twiddling the thumb-sticks and mashing the buttons. So I thought it'd be great to provide some visual accompaniment to the tactile experience of playing with the controller. Furthermore, I'd been looking for an excuse to play with Win2D as part of a UWP app and this felt like a perfect opportunity.&lt;/p&gt;</summary>
	</entry>
</feed>
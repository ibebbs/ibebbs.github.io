

<!DOCTYPE html>
<html lang="en">
        <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>Ian Bebbington - Using Rx on the Web</title>
        <meta name="description" content="IObservable&lt;Opinion&gt;" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link type="application/rss+xml" rel="alternate" title="Ian Bebbington" href="/feed.rss" />
        <link type="application/atom+xml" rel="alternate" title="Ian Bebbington" href="/feed.atom" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/assets/css/prettify.css" rel="stylesheet">
        <link href="/assets/css/github.css" rel="stylesheet">
        <link href="/assets/css/clean-blog.css" rel="stylesheet" />
        <link href="/assets/css/master.css" rel="stylesheet" />
        <link href="/assets/css/custom.css" rel="stylesheet" />
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>


        <meta name="application-name" content="Ian Bebbington" />
        <meta name="msapplication-tooltip" content="Ian Bebbington" />
        <meta name="msapplication-starturl" content="/" />

        <meta property="og:title" content="Ian Bebbington - Using Rx on the Web" />
        
        <meta property="og:type" content="website" />
        <meta property="og:url" content="http://ian.bebbs.co.uk/posts/RxWeb" />
        <!-- TODO: More social graph meta tags -->

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <script src="/assets/js/prettify.js"></script>
        <script src="/assets/js/clean-blog.js"></script>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="/assets/js/trianglify.min.js"></script>
        <script src="/assets/js/Please-compressed.js"></script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        </head>
        <body onload="prettyPrint()">

                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
                        <div class="container-fluid">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header page-scroll">
                                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        </button>
                                        <a class="navbar-brand" href="/">Ian Bebbington</a>
                                </div>

                                <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="navbar-collapse">
                                        <ul class="nav navbar-nav navbar-right">
                                                        <li><a href="/about">About Me</a></li>
        <li><a href="/tags">All Tags</a></li>
        <li><a href="/posts">Archive</a></li>

                                        </ul>
                                </div>
                                <!-- /.navbar-collapse -->
                        </div>
                        <!-- /.container -->
                </nav>

                <!-- Page Header -->

                <header class="intro-header" id="intro-header">
                        <div class="container">
                                <div class="row">
                                        <div class="col-md-12">

    

<div class="post-heading">
    <h1>Using Rx on the Web</h1>
        <h2 class="subheading">Getting to grips with WebRx in Visual Studio</h2>
    <div class="meta">        
            Published on 04 March 2016<br>
    </div>
        <div class="tags">
                    <a role="button" href="/tags/client-side-framework" class="btn btn-default btn-xs">Client-Side Framework</a>
                    <a role="button" href="/tags/javascript" class="btn btn-default btn-xs">JavaScript</a>
                    <a role="button" href="/tags/js" class="btn btn-default btn-xs">Js</a>
                    <a role="button" href="/tags/reactive" class="btn btn-default btn-xs">Reactive</a>
                    <a role="button" href="/tags/rx" class="btn btn-default btn-xs">Rx</a>
                    <a role="button" href="/tags/visual-studio" class="btn btn-default btn-xs">Visual Studio</a>
                    <a role="button" href="/tags/webrx" class="btn btn-default btn-xs">WebRx</a>
        </div>     
</div>
                                        </div>
                                </div>
                        </div>
                </header>

                <!-- Main Content -->
                <div class="container">
                        <div class="row">
                                <div id="content" class="col-md-12">
                                        


<h2>Finding a framework</h2>
<p>So, I have recently found myself with a need to dive into the depths of modern web-development and, as I am currently looking to write a highly interactive single-page web application, the first thing to decide on was a client side framework to use. You won't have to read too many of my blog posts to realise that I'm a big fan of <a href="https://msdn.microsoft.com/en-us/data/gg577609.aspx?f=255&amp;MSPPError=-2147217396">Rx</a>. I am also keen on the MVVM approach to separating concerns when writing user interfaces. Therefore, during my research of modern web UI frameworks, I was extremely interested when I came across <a href="http://webrxjs.org/">WebRx</a> .</p>
<p>Billed as &quot;a browser-based MVVM-Framework that combines functional-reactive programming with declarative Data-Binding, Templating and Client-Side Routing&quot; it struck a chord with my UI development style. In fact, it elevates <a href="http://reactivex.io/documentation/observable.html">Observables</a> to a first class concept in a manner eerily similar to the ObservableProperty/ObservableCommand classes I wrote for my <a href="https://github.com/ibebbs/Caliburn.Micro.Reactive.Extensions">Caliburn.Micro.Reactive.Extensions</a> package.</p>
<p>Unfortunately, as a framework, WebRx seems to be struggling to achieve critical mass and therefore there was very limited information available when I decided to attempt to implement the <a href="http://webrxjs.org/docs/getting-started.html">WebRx &quot;Hello World&quot;</a> example using Visual Studio. As is almost par for the course when using a new framework, I fell at a frustratingly early hurdle and, given the lack of info (seriously, only one tagged post on <a href="https://stackoverflow.com/questions/tagged/webrx">stackoverflow</a>!), I had to work through the problem 'old-skool'... ya'know, by actually finding and solving the problem rather than just googling a solution.</p>
<p>Anyway, I thought I'd put together a post outlining how to get started with this framework in Visual Studio in an attempt to start addressing the lack of info regarding this promising framework.</p>
<h2>The name is Bart Simpson</h2>
<p>Rather than the traditional 'Hello World' app, WebRx's 'Getting Started' guide displays a page stating 'The name is Bart Simpson'. This is done in order to demonstrates the MVVM separation of concerns through the use of a view bound to an underlying view model which provides the name 'Bart Simpson'.</p>
<p>I don't intend to cover the entirety of the getting started guide here, merely the additional/different steps needed to get the project work from Visual Studio. As such, I suggest <a href="http://webrxjs.org/docs/getting-started.html">opening the guide</a> in a browser and leaving it open while working through the steps below as I will be referring to it extensively.</p>
<p>First up, open Visual Studio. Pretty much any modern version is fine, I am using Visual Studio 2015 Professional. Start a new project and select 'ASP.NET Web Application'</p>
<img src="/Content/RxWeb/NewAspWebApplication.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="New ASP.NET Web Application">
<p>In the following dialog, select an empty ASP.NET Template and click ok.</p>
<img src="/Content/RxWeb/EmptyAsp452Project.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Empty ASP.NET Template">
<p>Now we have a web project, lets add a reference to WebRx. This can be done using either the Package Manager Console using the command <code>Install-Package WebRx</code> or via the visual Nuget package manager as shown below:</p>
<img src="/Content/RxWeb/InstallWebRxPackage.png" class="img-responsive" style="margin: auto; width:66%; margin-top: 6px; margin-bottom: 6px;" alt="Install WebRx Package">
<p>Regardless of how you add the reference to WebRx, you will be asked whether you wish to 'Search for TypeScript Typings' as shown below. Just click 'Yes'.</p>
<img src="/Content/RxWeb/AddTypeScriptTypings.png" class="img-responsive" style="margin: auto; width:300px; margin-top: 6px; margin-bottom: 6px;" alt="Add TypeScript Typings">
<p>You will also be prompted to accept the license aggrement for a number of RxJs packages which WebRx depends upon; you should accept these too.</p>
<p>One the reference is added, you should find that a Scripts directory has been added to your solution and which contains a number of 'ts' and 'js' files for both WebRx and RxJs. With this in place, we can then continue with the getting started guide by adding an 'index.html' file to the project and copy pasting the sample 'index.html' file from the WebRx <a href="http://webrxjs.org/docs/getting-started.html">getting started guide</a>. It should look something like this:</p>
<img src="/Content/RxWeb/CopyPasteIndexFromGettingStarted.png" class="img-responsive" style="margin: auto; width:400px; margin-top: 6px; margin-bottom: 6px;" alt="Copy Paste Index From Getting Started">
<p>At this point the eagle-eyed amongst you will notice three things:</p>
<ol>
<li>Our scripts are now in a 'bower_modules' directory<br />
As we used Nuget and not bower to install our WebRx dependencies, the script references should be changed to refer to the Scripts directory</li>
<li>Our scripts directory does not contain a rx.all.js file.<br />
For some reason, WebRx depends on a version of RxJs that does not include an rx.all.js file. To resolve this, simply upgrade to the latest version of RxJs-All, as shown below:
<img src="/Content/RxWeb/UpgradeRxJsAll.png" class="img-responsive" style="margin: auto; width:600px; margin-top: 6px; margin-bottom: 6px;" alt="Upgrade RxJs All"></li>
<li>We don't have a 'js' folder containing an 'app.js' file.<br />
Because we've not got to that bit yet.</li>
</ol>
<p>Now add a 'js' folder to the solution and add a 'app.js' to it. In this file copy the full 'app.js' sample from the WebRx  <a href="http://webrxjs.org/docs/getting-started.html">getting started guide</a> as shown below:</p>
<pre class="prettyprint"><code>wx.app.component('hello', {
  viewModel: function() {
    this.firstName = 'Bart';
    this.lastName = 'Simpson';
  },
  template: 'The name is &lt;span data-bind=&quot;text: firstName + \' \' + lastName&quot;&gt;&lt;/span&gt;'
});

wx.router.state({
  name: &quot;$&quot;,
  views: { 'main': &quot;hello&quot; }
});

wx.router.reload();

wx.applyBindings();
</code></pre>
<p>Save all, set 'index.html' as the start page and hit F5. If everything went as planned you should now see 'The name is Bart Simpson' displayed in your default browser:</p>
<img src="/Content/RxWeb/TheNameIsBartSimpson.png" class="img-responsive" style="margin: auto; width:400px; margin-top: 6px; margin-bottom: 6px;" alt="The Name Is Bart Simpson">
<p>And that's it. While the getting started example doesn't seem very complex, it does show a separation of view and view model. I'm very much looking forward to digging into the details of this very promising framework.</p>
<p>The <a href="https://github.com/ibebbs/BlogProjects/tree/master/WebRxWithAsp4">completed project</a> for this post can be found in my <a href="https://github.com/ibebbs/BlogProjects">BlogProjects repository</a> on <a href="https://github.com/ibebbs">Github</a></p>



                                </div>
                        </div>
                </div>

                <hr>

                <!-- Footer -->
                <footer>
                        <div class="container">
  <div class="row">
    <div class="col-md-12 text-center">
      <ul class="list-inline text-center">
        <li>
          <a href="https://twitter.com/ibebbs">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
            </span>
          </a>
        </li>
        <li>
          <a href="https://github.com/ibebbs">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-github fa-stack-1x fa-inverse"></i>
            </span>
          </a>
        </li>
        <li>
          <a href="http://stackoverflow.com/users/628821/ibebbs">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
            </span>
          </a>
        </li>
        <li>
          <a href="https://social.msdn.microsoft.com/profile/ian%20bebbington/">
            <span class="fa-stack fa-lg">
              <i class="fa fa-circle fa-stack-2x"></i>
              <i class="fa fa-windows fa-stack-1x fa-inverse"></i>
            </span>
          </a>
        </li>
      </ul>
      <p class="copyright text-muted">
        Copyright © 2016 by Ian Bebbington. The opinions expressed herein are my own and do not represent those of my employer or any other third-party views in any way. This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/">"Creative Commons Attribution 4.0 International License"</a>
        <br />
        <a href="/feed.rss"><i class="fa fa-rss"></i> RSS Feed</a> | <a href="/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
        <br />
        <strong><a href="http://wyam.io">Generated by Wyam</a></strong>
      </p>
    </div>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-70151903-1', 'auto');
      ga('send', 'pageview');

    </script>

    <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'ibebbs'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
            }());
    </script>
</div>

                </footer>

                
        </body>
</html>
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-70151903-1', 'auto');
      ga('send', 'pageview');

    </script>
</div>

                </footer>

                
        </body>
</html>
EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'ibebbs'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                    var s = document.createElement('script'); s.async = true;
                    s.type = 'text/javascript';
                    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
                    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
            }());
    </script>
</div>

                </footer>

                
        </body>
</html>
cript>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

                </footer>

                
        </body>
</html>
